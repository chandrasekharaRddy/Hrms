{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      form: {\n        employeeName: '',\n        leaveType: '',\n        startDate: '',\n        endDate: '',\n        reason: ''\n      },\n      leaveRequestSubmitted: false,\n      goals: [],\n      normalLeave: 12,\n      sickLeave: 12\n    };\n  },\n  methods: {\n    submitLeaveRequest() {\n      if (this.form.employeeName === \"\") {\n        alert('Please enter the name.');\n      } else {\n        const start = new Date(this.form.startDate);\n        const end = new Date(this.form.endDate);\n        const diff = (end - start) / (1000 * 60 * 60 * 24) + 1;\n        if (diff > 0) {\n          const newGoal = {\n            employeeName: this.form.employeeName,\n            leave: this.form.leaveType,\n            days: diff,\n            reason: this.form.reason,\n            teamLeaderApproval: false\n          };\n          this.goals.push(newGoal);\n          if (this.form.leaveType === \"sick\") {\n            this.sickLeave -= diff;\n          } else if (this.form.leaveType === \"personal\") {\n            this.normalLeave -= diff;\n          }\n          this.leaveRequestSubmitted = true;\n        }\n      }\n      this.form.employeeName = \"\";\n      this.form.leaveType = \"\";\n      this.form.startDate = \"\";\n      this.form.endDate = \"\";\n      this.form.reason = \"\";\n    },\n    requestTeamLeader(index) {\n      alert(`approval request for ${this.goals[index].employeeName}`);\n      this.goals[index].teamLeaderApproval = true;\n    }\n  }\n};","map":{"version":3,"names":["data","form","employeeName","leaveType","startDate","endDate","reason","leaveRequestSubmitted","goals","normalLeave","sickLeave","methods","submitLeaveRequest","alert","start","Date","end","diff","newGoal","leave","days","teamLeaderApproval","push","requestTeamLeader","index"],"sources":["C:\\Users\\IMPEGNOABS010\\Desktop\\HRMSROUT\\src\\components\\leaveTask.vue"],"sourcesContent":["\r\n <template>\r\n  <div class=\"box\">\r\n   <div class=\"leaves\">\r\n      <div class=\"leavesBox1\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-calendar\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z\" />\r\n        </svg> <br><label class=\"label\">privilegeLeaves</label>\r\n        <div class=\"normalLeave\" v-bind:style=\"{ color:'white' }\">{{ normalLeave }}</div>\r\n      </div>\r\n      <div class=\"leavesBox2\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-calendar\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z\" />\r\n        </svg><br><label class=\"label\">SickLeaves</label>\r\n        <div class=\"normalLeave\" v-bind:style=\"{ color:'white' }\" >{{ sickLeave }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n    <br>\r\n    <br>\r\n  <div class=\"form\">\r\n    <form @submit.prevent=\"submitLeaveRequest\">\r\n      <label for=\"employeeName\">Employee Name:</label>\r\n<input v-model=\"form.employeeName\" type=\"text\" />\r\n\r\n<label for=\"leaveType\">Leave Type:</label>\r\n<select v-model=\"form.leaveType\" class=\"hi\">\r\n  <option value=\"sick\">Sick Leave</option>\r\n  <option value=\"personal\">Personal Leave</option>\r\n</select>\r\n\r\n<label for=\"startDate\">Start Date:</label>\r\n<input v-model=\"form.startDate\" type=\"date\" />\r\n\r\n<label for=\"endDate\">End Date:</label>\r\n<input v-model=\"form.endDate\" type=\"date\" />\r\n\r\n<label for=\"reason\">Reason:</label>\r\n<input v-model=\"form.reason\" type=\"text\" />\r\n\r\n<br>\r\n\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  </div>\r\n  <br>\r\n  <div class=\"table\">\r\n      <table class=\"table table-bordered\">\r\n        <thead class=\"table-dark\">\r\n          <tr>\r\n            <th>Employee Name</th>\r\n            <th>Leave Type</th>\r\n            <th>Days</th>\r\n            <th>Reason</th>\r\n            <th>Approved</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(goal, index) in goals\" :key=\"index\">\r\n            <td>{{ goal.employeeName }}</td>\r\n            <td>{{ goal.leave }}</td>\r\n            <td>{{ goal.days }}</td>\r\n            <td>{{ goal.reason }}</td>\r\n            <td>\r\n              <div v-if=\"goal.teamLeaderApproval\">\r\n                <p class=\"approved\"><strong class=\"approved\">Team Leader Approval:</strong> Approved</p>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <button v-if=\"leaveRequestSubmitted && !goal.teamLeaderApproval\" @click=\"requestTeamLeader(index)\">\r\n                Request TL\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        employeeName: '',\r\n        leaveType: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        reason: ''\r\n      },\r\n      leaveRequestSubmitted: false,\r\n      goals: [],\r\n      normalLeave: 12,\r\n      sickLeave: 12\r\n    };\r\n  },\r\n  methods: {\r\n    submitLeaveRequest() {\r\n      if (this.form.employeeName === \"\") {\r\n        alert('Please enter the name.');\r\n      } else {\r\n        const start = new Date(this.form.startDate);\r\n        const end = new Date(this.form.endDate);\r\n        const diff = (end - start) / (1000 * 60 * 60 * 24) + 1;\r\n\r\n        if (diff > 0) {\r\n          const newGoal = {\r\n            employeeName: this.form.employeeName,\r\n            leave: this.form.leaveType,\r\n            days: diff,\r\n            reason: this.form.reason,\r\n            teamLeaderApproval: false, \r\n          };\r\n\r\n          this.goals.push(newGoal);\r\n\r\n          if (this.form.leaveType === \"sick\") {\r\n            this.sickLeave -= diff;\r\n          } else if (this.form.leaveType === \"personal\") {\r\n            this.normalLeave -= diff;\r\n          }\r\n          this.leaveRequestSubmitted = true;\r\n        }\r\n      }\r\n      this.form.employeeName = \"\";\r\n      this.form.leaveType = \"\";\r\n      this.form.startDate = \"\";\r\n      this.form.endDate = \"\";\r\n      this.form.reason = \"\";\r\n    },\r\n    requestTeamLeader(index) {\r\n    alert(`approval request for ${this.goals[index].employeeName}`);\r\n    this.goals[index].teamLeaderApproval = true;\r\n  },\r\n},\r\n  };\r\n</script>\r\n<style>\r\n  label {\r\n    display: block;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  input[type=\"text\"],\r\n  select,\r\n  input[type=\"date\"] {\r\n    width: 100%;\r\n    padding: 8px;\r\n    margin-bottom: 12px;\r\n    box-sizing: border-box;\r\n  }\r\n  .approved{\r\n  color: black;\r\n  }\r\n  .form{\r\n    border: 1px solid;\r\n    background-color: rgb(218, 150, 88);\r\n  }\r\n  .hi{\r\n    border-radius: 10px;\r\n  }\r\n  .normalLeave{\r\n    background-color:rgb(177, 57, 97) ;\r\n    \r\n  }\r\n  .leavesBox1{\r\n    background-color: rgb(81, 206, 185);\r\n    margin-right: -10px;\r\n  }\r\n  .leavesBox2{\r\n    background-color: rgb(81, 206, 185);\r\n    margin-right: -10px;\r\n  }\r\n  .box{\r\n    border: 1px solid;\r\n    padding-bottom: 30px;\r\n     margin-right: 1000px;\r\n     margin-left: 20px;\r\n     padding-right: 100px;\r\n  }\r\n</style> "],"mappings":";AAiFA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,YAAY,EAAE,EAAE;QAChBC,SAAS,EAAE,EAAE;QACbC,SAAS,EAAE,EAAE;QACbC,OAAO,EAAE,EAAE;QACXC,MAAM,EAAE;MACV,CAAC;MACDC,qBAAqB,EAAE,KAAK;MAC5BC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,kBAAkBA,CAAA,EAAG;MACnB,IAAI,IAAI,CAACX,IAAI,CAACC,YAAW,KAAM,EAAE,EAAE;QACjCW,KAAK,CAAC,wBAAwB,CAAC;MACjC,OAAO;QACL,MAAMC,KAAI,GAAI,IAAIC,IAAI,CAAC,IAAI,CAACd,IAAI,CAACG,SAAS,CAAC;QAC3C,MAAMY,GAAE,GAAI,IAAID,IAAI,CAAC,IAAI,CAACd,IAAI,CAACI,OAAO,CAAC;QACvC,MAAMY,IAAG,GAAI,CAACD,GAAE,GAAIF,KAAK,KAAK,IAAG,GAAI,EAAC,GAAI,EAAC,GAAI,EAAE,IAAI,CAAC;QAEtD,IAAIG,IAAG,GAAI,CAAC,EAAE;UACZ,MAAMC,OAAM,GAAI;YACdhB,YAAY,EAAE,IAAI,CAACD,IAAI,CAACC,YAAY;YACpCiB,KAAK,EAAE,IAAI,CAAClB,IAAI,CAACE,SAAS;YAC1BiB,IAAI,EAAEH,IAAI;YACVX,MAAM,EAAE,IAAI,CAACL,IAAI,CAACK,MAAM;YACxBe,kBAAkB,EAAE;UACtB,CAAC;UAED,IAAI,CAACb,KAAK,CAACc,IAAI,CAACJ,OAAO,CAAC;UAExB,IAAI,IAAI,CAACjB,IAAI,CAACE,SAAQ,KAAM,MAAM,EAAE;YAClC,IAAI,CAACO,SAAQ,IAAKO,IAAI;UACxB,OAAO,IAAI,IAAI,CAAChB,IAAI,CAACE,SAAQ,KAAM,UAAU,EAAE;YAC7C,IAAI,CAACM,WAAU,IAAKQ,IAAI;UAC1B;UACA,IAAI,CAACV,qBAAoB,GAAI,IAAI;QACnC;MACF;MACA,IAAI,CAACN,IAAI,CAACC,YAAW,GAAI,EAAE;MAC3B,IAAI,CAACD,IAAI,CAACE,SAAQ,GAAI,EAAE;MACxB,IAAI,CAACF,IAAI,CAACG,SAAQ,GAAI,EAAE;MACxB,IAAI,CAACH,IAAI,CAACI,OAAM,GAAI,EAAE;MACtB,IAAI,CAACJ,IAAI,CAACK,MAAK,GAAI,EAAE;IACvB,CAAC;IACDiB,iBAAiBA,CAACC,KAAK,EAAE;MACzBX,KAAK,CAAE,wBAAuB,IAAI,CAACL,KAAK,CAACgB,KAAK,CAAC,CAACtB,YAAa,EAAC,CAAC;MAC/D,IAAI,CAACM,KAAK,CAACgB,KAAK,CAAC,CAACH,kBAAiB,GAAI,IAAI;IAC7C;EACF;AACE,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}