(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=o(e.Vue,e.dateFns))})(this,function(e,o){"use strict";function qe(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}qe.compatConfig={MODE:3};function en(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}en.compatConfig={MODE:3};function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}bt.compatConfig={MODE:3};function vt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}vt.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}wt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Mt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}St.compatConfig={MODE:3};const Ee=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),tn=(t,n)=>{const l=Dt(t,n);return l||W()},Rn=(t,n)=>n.dateInTz?Ee(new Date(t),n.dateInTz):W(t),Dt=(t,n)=>{if(!t)return null;if(!n)return W(t);const l=W(t);return n.exactMatch?Rn(t,n):Ee(l,n.timezone)},Nn=t=>{if(!t)return 0;const n=new Date,l=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(n.toLocaleString("en-US",{timeZone:t})),a=r.getTimezoneOffset()/60;return(+l-+r)/(1e3*60*60)-a};var Ae=(t=>(t.month="month",t.year="year",t))(Ae||{}),Ue=(t=>(t.top="top",t.bottom="bottom",t))(Ue||{}),je=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(je||{}),we=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(we||{});const En=["timestamp","date","iso"];var Se=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Se||{}),pe=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(pe||{});function nn(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function _n(t){return n=>o.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Vn=(t,n,l)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(_n(t))}catch{a=r.map(nn(n))}else a=r.map(nn(n));const g=a.slice(0,l),p=a.slice(l+1,a.length);return[a[l]].concat(...p).concat(...g)},Ct=(t,n,l)=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:un(a,n)});return l?r.reverse():r},an=(t,n,l)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(g=>{const p=g<10?`0${g}`:g;return new Date(`2017-${p}-01T00:00:00+00:00`)});if(t!==null)try{const g=l==="long"?"MMMM":"MMM";return r.map((p,s)=>{const A=o.format(Ee(p,"UTC"),g,{locale:t});return{text:A.charAt(0).toUpperCase()+A.substring(1),value:s}})}catch{}const a=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return r.map((g,p)=>{const s=a.format(g);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:p}})},Yn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ve=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},On=t=>({type:"dot",...t??{}}),rn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Bt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},be=t=>t,ln=t=>t===0?t:!t||isNaN(+t)?null:+t,on=t=>t===null,sn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},In=t=>{const n=[],l=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(l(a))}return n},Ze=(t,n,l)=>{const r=l!=null,a=n!=null;if(!r&&!a)return!1;const g=+l,p=+n;return r&&a?+t>g||+t<p:r?+t>g:a?+t<p:!1},Ge=(t,n)=>In(t).map(l=>l.map(r=>{const{active:a,disabled:g,isBetween:p,highlighted:s}=n(r);return{...r,active:a,disabled:g,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:g,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:g&&a,dp__cell_in_between:p,"dp--highlighted":s}}})),Oe=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},zn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Ln(t,n){let l=[...document.querySelectorAll(zn())];l=l.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=l.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=l.length))return l[r+(n?-1:1)]}const Hn=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),un=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Tt=t=>o.format(t,"dd-MM-yyyy"),$t=t=>Array.isArray(t),it=(t,n)=>n.get(Tt(t)),Wn=(t,n)=>t?n?n instanceof Map?!!it(t,n):n(W(t)):!1:!0,De=(t,n,l=!1)=>{if(t.key===pe.enter||t.key===pe.space)return l&&t.preventDefault(),n()},cn=(t,n,l,r,a,g)=>{const p=o.parse(t,n.slice(0,t.length),new Date,{locale:g});return o.isValid(p)&&o.isDate(p)?r||a?p:o.set(p,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},Un=(t,n,l,r,a,g)=>{const p=Array.isArray(l)?l[0]:l;if(typeof n=="string")return cn(t,n,p,r,a,g);if(Array.isArray(n)){let s=null;for(const A of n)if(s=cn(t,A,p,r,a,g),s)break;return s}return typeof n=="function"?n(t):null},W=t=>t?new Date(t):new Date,jn=(t,n,l)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),g=t.getDate().toString().padStart(2,"0"),p=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),A=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${g}T${p}:${s}:${A}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Ce=t=>{let n=W(JSON.parse(JSON.stringify(t)));return n=o.setHours(n,0),n=o.setMinutes(n,0),n=o.setSeconds(n,0),n=o.setMilliseconds(n,0),n},Ie=(t,n,l,r)=>{let a=t?W(t):W();return(n||n===0)&&(a=o.setHours(a,+n)),(l||l===0)&&(a=o.setMinutes(a,+l)),(r||r===0)&&(a=o.setSeconds(a,+r)),o.setMilliseconds(a,0)},ye=(t,n)=>!t||!n?!1:o.isBefore(Ce(t),Ce(n)),ue=(t,n)=>!t||!n?!1:o.isEqual(Ce(t),Ce(n)),he=(t,n)=>!t||!n?!1:o.isAfter(Ce(t),Ce(n)),ut=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?he(l,t[0])&&ye(l,t[1]):t!=null&&t[0]&&n?he(l,t[0])&&ye(l,n)||ye(l,t[0])&&he(l,n):!1,Pe=t=>{const n=o.set(new Date(t),{date:1});return Ce(n)},At=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,l]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ke=t=>({hours:o.getHours(t),minutes:o.getMinutes(t),seconds:o.getSeconds(t)}),dn=(t,n)=>{if(n){const l=o.getYear(W(n));if(l>t)return 12;if(l===t)return o.getMonth(W(n))}},fn=(t,n)=>{if(n){const l=o.getYear(W(n));return l<t?-1:l===t?o.getMonth(W(n)):void 0}},Qe=t=>{if(t)return o.getYear(W(t))},mn=(t,n)=>{const l=he(t,n)?n:t,r=he(n,t)?n:t;return o.eachDayOfInterval({start:l,end:r})},Kn=t=>{const n=o.addMonths(t,1);return{month:o.getMonth(n),year:o.getYear(n)}},Ve=(t,n)=>{const l=o.startOfWeek(t,{weekStartsOn:+n}),r=o.endOfWeek(t,{weekStartsOn:+n});return[l,r]},pn=(t,n)=>{const l={hours:o.getHours(W()),minutes:o.getMinutes(W()),seconds:n?o.getSeconds(W()):0};return Object.assign(l,t)},ze=(t,n,l)=>[o.set(W(t),{date:1}),o.set(W(),{month:n,year:l,date:1})],Ye=(t,n,l)=>{let r=t?W(t):W();return(n||n===0)&&(r=o.setMonth(r,n)),l&&(r=o.setYear(r,l)),r},gn=(t,n,l,r,a)=>{if(!r||a&&!n||!a&&!l)return!1;const g=a?o.addMonths(t,1):o.subMonths(t,1),p=[o.getMonth(g),o.getYear(g)];return a?!qn(...p,n):!xn(...p,l)},xn=(t,n,l)=>ye(...ze(l,t,n))||ue(...ze(l,t,n)),qn=(t,n,l)=>he(...ze(l,t,n))||ue(...ze(l,t,n)),yn=(t,n,l,r,a,g,p)=>{if(typeof n=="function"&&!p)return n(t);const s=l?{locale:l}:void 0;return Array.isArray(t)?`${o.format(t[0],g,s)}${a&&!t[1]?"":r}${t[1]?o.format(t[1],g,s):""}`:o.format(t,g,s)},Xe=t=>{if(t)return null;throw new Error(Bt.prop("partial-range"))},ct=(t,n)=>{if(n)return t();throw new Error(Bt.prop("range"))},Pt=t=>Array.isArray(t)?o.isValid(t[0])&&(t[1]?o.isValid(t[1]):!0):t?o.isValid(t):!1,Gn=(t,n)=>o.set(n??W(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Rt=(t,n,l,r)=>{if(!t)return!0;if(r){const a=l==="max"?o.isBefore(t,n):o.isAfter(t,n),g={seconds:0,milliseconds:0};return a||o.isEqual(o.set(t,g),o.set(n,g))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Nt=(t,n,l)=>t?Gn(t,n):W(l??n),hn=(t,n,l,r,a)=>{if(Array.isArray(r)){const p=Nt(t,r[0],n),s=Nt(t,r[1],n);return Rt(r[0],p,l,!!n)&&Rt(r[1],s,l,!!n)&&a}const g=Nt(t,r,n);return Rt(r,g,l,!!n)&&a},Et=t=>o.set(W(),Ke(t)),Qn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>o.getYear(W(l))===n).map(l=>o.getMonth(l)):[],kn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(r=>r.month===n&&r.year===l),_t=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Fe=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),bn=()=>{const t=r=>{Fe.menuFocused=r},n=r=>{Fe.shiftKeyInMenu!==r&&(Fe.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:Fe.shiftKeyInMenu,menuFocused:Fe.menuFocused})),setMenuFocused:t,setShiftKey:n}},me=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Vt=e.ref(null),dt=e.ref(!1),Yt=e.ref(!1),Ot=e.ref(!1),It=e.ref(!1),Me=e.ref(0),ke=e.ref(0),Le=()=>{const t=e.computed(()=>dt.value?[...me.selectionGrid,me.actionRow].filter(v=>v.length):Yt.value?[...me.timePicker[0],...me.timePicker[1],It.value?[]:[Vt.value],me.actionRow].filter(v=>v.length):Ot.value?[...me.monthPicker,me.actionRow]:[me.monthYear,...me.calendar,me.time,me.actionRow].filter(v=>v.length)),n=v=>{Me.value=v?Me.value+1:Me.value-1;let O=null;t.value[ke.value]&&(O=t.value[ke.value][Me.value]),!O&&t.value[ke.value+(v?1:-1)]?(ke.value=ke.value+(v?1:-1),Me.value=v?0:t.value[ke.value].length-1):O||(Me.value=v?Me.value-1:Me.value+1)},l=v=>{if(ke.value===0&&!v||ke.value===t.value.length&&v)return;ke.value=v?ke.value+1:ke.value-1,t.value[ke.value]?t.value[ke.value]&&!t.value[ke.value][Me.value]&&Me.value!==0&&(Me.value=t.value[ke.value].length-1):ke.value=v?ke.value-1:ke.value+1},r=v=>{let O=null;t.value[ke.value]&&(O=t.value[ke.value][Me.value]),O?O.focus({preventScroll:!dt.value}):Me.value=v?Me.value-1:Me.value+1},a=()=>{n(!0),r(!0)},g=()=>{n(!1),r(!1)},p=()=>{l(!1),r(!0)},s=()=>{l(!0),r(!0)},A=(v,O)=>{me[O]=v},P=(v,O)=>{me[O]=v},w=()=>{Me.value=0,ke.value=0};return{buildMatrix:A,buildMultiLevelMatrix:P,setTimePickerBackRef:v=>{Vt.value=v},setSelectionGrid:v=>{dt.value=v,w(),v||(me.selectionGrid=[])},setTimePicker:(v,O=!1)=>{Yt.value=v,It.value=O,w(),v||(me.timePicker[0]=[],me.timePicker[1]=[])},setTimePickerElements:(v,O=0)=>{me.timePicker[O]=v},arrowRight:a,arrowLeft:g,arrowUp:p,arrowDown:s,clearArrowNav:()=>{me.monthYear=[],me.calendar=[],me.time=[],me.actionRow=[],me.selectionGrid=[],me.timePicker[0]=[],me.timePicker[1]=[],dt.value=!1,Yt.value=!1,It.value=!1,Ot.value=!1,w(),Vt.value=null},setMonthPicker:v=>{Ot.value=v,w()},refSets:me}},vn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Xn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),wn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Jn=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:wn(!1)};const r=n?t:{},a=n?r.count??!0:t,g=wn(a);return Object.assign(l,r,{count:g})},Zn=(t,n,l)=>t||(typeof l=="string"?l:n),Fn=t=>typeof t=="boolean"?t?vn({}):!1:vn(t),ea=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},ta=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),na=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),aa=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},ra=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0},...t??{}}),la=t=>{const n={dates:Array.isArray(t)?t.map(l=>W(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},oa=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},sa=(t,n)=>{const l={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...l,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},ia=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:n},zt=(t,n)=>new Map(t.map(l=>{const r=tn(l,n);return[Tt(r),r]})),ua=(t,n)=>t.length?new Map(t.map(l=>{const r=tn(l.date,n);return[Tt(r),l]})):null,ca=(t,n,l,r,a,g,p)=>({minDate:Dt(t,p),maxDate:Dt(n,p),disabledDates:$t(l)?zt(l,p):l,allowedDates:$t(r)?zt(r,p):null,highlight:typeof a=="object"&&$t(a==null?void 0:a.dates)?zt(a.dates,p):a,markers:ua(g,p)}),da=(t,n)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+n}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},ge=t=>{const n=()=>{const I=t.enableSeconds?":ss":"",E=t.enableMinutes?":mm":"";return t.is24?`HH${E}${I}`:`hh${E}${I} aa`},l=()=>{var I;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((I=N.value)==null?void 0:I.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=I=>pn(I,t.enableSeconds),a=()=>Q.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,g=e.computed(()=>Jn(t.multiCalendars)),p=e.computed(()=>a()),s=e.computed(()=>Xn(t.ariaLabels)),A=e.computed(()=>ta(t.filters)),P=e.computed(()=>Fn(t.transitions)),w=e.computed(()=>na(t.actionRow)),h=e.computed(()=>Zn(t.previewFormat,t.format,l())),b=e.computed(()=>ea(t.textInput)),R=e.computed(()=>aa(t.inline)),K=e.computed(()=>ra(t.config)),B=e.computed(()=>la(t.highlight)),N=e.computed(()=>oa(t.weekNumbers)),v=e.computed(()=>ia(t.timezone,t.emitTimezone)),O=e.computed(()=>da(t.multiDates,t.multiDatesLimit)),V=e.computed(()=>ca(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,B.value,t.markers,v.value)),Q=e.computed(()=>sa(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:P,defaultedMultiCalendars:g,defaultedStartTime:p,defaultedAriaLabels:s,defaultedFilters:A,defaultedActionRow:w,defaultedPreviewFormat:h,defaultedTextInput:b,defaultedInline:R,defaultedConfig:K,defaultedHighlight:B,defaultedWeekNumbers:N,defaultedRange:Q,propDates:V,defaultedTz:v,defaultedMultiDates:O,getDefaultPattern:l,getDefaultStartTime:a}},fa=(t,n,l)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:g,defaultedTz:p,defaultedMultiDates:s,getDefaultPattern:A}=ge(n),P=e.ref(""),w=e.toRef(n,"format"),h=e.toRef(n,"formatLocale");e.watch(r,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",r.value,C(!0))},{deep:!0}),e.watch(g,(f,Z)=>{f.enabled!==Z.enabled&&(r.value=null)}),e.watch(w,()=>{m()});const b=f=>p.value.timezone&&p.value.convertModel?Ee(f,p.value.timezone):f,R=f=>{if(p.value.timezone&&p.value.convertModel){const Z=Nn(p.value.timezone);return o.addHours(f,Z)}return f},K=(f,Z,H=!1)=>yn(f,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,Z??A(),H),B=f=>f?n.modelType?ne(f):{hours:o.getHours(f),minutes:o.getMinutes(f),seconds:n.enableSeconds?o.getSeconds(f):0}:null,N=f=>n.modelType?ne(f):{month:o.getMonth(f),year:o.getYear(f)},v=f=>Array.isArray(f)?s.value.enabled?f.map(Z=>O(Z,o.setYear(W(),Z))):ct(()=>[o.setYear(W(),f[0]),f[1]?o.setYear(W(),f[1]):Xe(g.value.partialRange)],g.value.enabled):o.setYear(W(),+f),O=(f,Z)=>(typeof f=="string"||typeof f=="number")&&n.modelType?X(f):Z,V=f=>Array.isArray(f)?[O(f[0],Ie(null,+f[0].hours,+f[0].minutes,f[0].seconds)),O(f[1],Ie(null,+f[1].hours,+f[1].minutes,f[1].seconds))]:O(f,Ie(null,f.hours,f.minutes,f.seconds)),Q=f=>{const Z=o.set(W(),{date:1});return Array.isArray(f)?s.value.enabled?f.map(H=>O(H,Ye(Z,+H.month,+H.year))):ct(()=>[O(f[0],Ye(Z,+f[0].month,+f[0].year)),O(f[1],f[1]?Ye(Z,+f[1].month,+f[1].year):Xe(g.value.partialRange))],g.value.enabled):O(f,Ye(Z,+f.month,+f.year))},I=f=>{if(Array.isArray(f))return f.map(Z=>X(Z));throw new Error(Bt.dateArr("multi-dates"))},E=f=>{if(Array.isArray(f)&&g.value.enabled){const Z=f[0],H=f[1];return[W(Array.isArray(Z)?Z[0]:null),W(Array.isArray(H)?H[0]:null)]}return W(f[0])},j=f=>n.modelAuto?Array.isArray(f)?[X(f[0]),X(f[1])]:n.autoApply?[X(f)]:[X(f),null]:Array.isArray(f)?ct(()=>f[1]?[X(f[0]),f[1]?X(f[1]):Xe(g.value.partialRange)]:[X(f[0])],g.value.enabled):X(f),k=()=>{Array.isArray(r.value)&&g.value.enabled&&r.value.length===1&&r.value.push(Xe(g.value.partialRange))},re=()=>{const f=r.value;return[ne(f[0]),f[1]?ne(f[1]):Xe(g.value.partialRange)]},ae=()=>r.value[1]?re():ne(be(r.value[0])),te=()=>(r.value||[]).map(f=>ne(f)),_=(f=!1)=>(f||k(),n.modelAuto?ae():s.value.enabled?te():Array.isArray(r.value)?ct(()=>re(),g.value.enabled):ne(be(r.value))),L=f=>!f||Array.isArray(f)&&!f.length?null:n.timePicker?V(be(f)):n.monthPicker?Q(be(f)):n.yearPicker?v(be(f)):s.value.enabled?I(be(f)):n.weekPicker?E(be(f)):j(be(f)),F=f=>{const Z=L(f);Pt(be(Z))?(r.value=be(Z),m()):(r.value=null,P.value="")},z=()=>{const f=Z=>o.format(Z,a.value.format);return`${f(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?f(r.value[1]):""}`},$=()=>l.value&&r.value?Array.isArray(r.value)?z():o.format(r.value,a.value.format):K(r.value),y=()=>r.value?s.value.enabled?r.value.map(f=>K(f)).join("; "):a.value.enabled&&typeof a.value.format=="string"?$():K(r.value):"",m=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?P.value=y():P.value=n.format(r.value)},X=f=>{if(n.utc){const Z=new Date(f);return n.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return n.modelType?En.includes(n.modelType)?b(new Date(f)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?b(o.parse(f,A(),new Date,{locale:h.value})):b(o.parse(f,n.modelType,new Date,{locale:h.value})):b(new Date(f))},ne=f=>f?n.utc?jn(f,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+R(f):n.modelType==="iso"?R(f).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?K(R(f)):K(R(f),n.modelType,!0):R(f):"",M=(f,Z=!1,H=!1)=>{if(H)return f;if(t("update:model-value",f),p.value.emitTimezone&&Z){const ie=Array.isArray(f)?f.map(u=>Ee(be(u),p.value.emitTimezone)):Ee(be(f),p.value.emitTimezone);t("update:model-timezone-value",ie)}},S=f=>Array.isArray(r.value)?s.value.enabled?r.value.map(Z=>f(Z)):[f(r.value[0]),r.value[1]?f(r.value[1]):Xe(g.value.partialRange)]:f(be(r.value)),U=()=>{if(Array.isArray(r.value)){const f=Ve(r.value[0],n.weekStart),Z=r.value[1]?Ve(r.value[1],n.weekStart):[];return[f.map(H=>W(H)),Z.map(H=>W(H))]}return Ve(r.value,n.weekStart).map(f=>W(f))},d=(f,Z)=>M(be(S(f)),!1,Z),T=f=>{const Z=U();return f?Z:t("update:model-value",U())},C=(f=!1)=>(f||m(),n.monthPicker?d(N,f):n.timePicker?d(B,f):n.yearPicker?d(o.getYear,f):n.weekPicker?T(f):M(_(f),!0,f));return{inputValue:P,internalModelValue:r,checkBeforeEmit:()=>r.value?g.value.enabled?g.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:F,formatInputValue:m,emitModelValue:C}},ma=(t,n)=>{const{defaultedFilters:l,propDates:r}=ge(t),{validateMonthYearInRange:a}=We(t),g=(w,h)=>{let b=w;return l.value.months.includes(o.getMonth(b))?(b=h?o.addMonths(w,1):o.subMonths(w,1),g(b,h)):b},p=(w,h)=>{let b=w;return l.value.years.includes(o.getYear(b))?(b=h?o.addYears(w,1):o.subYears(w,1),p(b,h)):b},s=(w,h=!1)=>{const b=o.set(W(),{month:t.month,year:t.year});let R=w?o.addMonths(b,1):o.subMonths(b,1);t.disableYearSelect&&(R=o.setYear(R,t.year));let K=o.getMonth(R),B=o.getYear(R);l.value.months.includes(K)&&(R=g(R,w),K=o.getMonth(R),B=o.getYear(R)),l.value.years.includes(B)&&(R=p(R,w),B=o.getYear(R)),a(K,B,w,t.preventMinMaxNavigation)&&A(K,B,h)},A=(w,h,b)=>{n("update-month-year",{month:w,year:h,fromNav:b})},P=e.computed(()=>w=>gn(o.set(W(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,w));return{handleMonthYearChange:s,isDisabled:P,updateMonthYear:A}};var Je=(t=>(t.center="center",t.left="left",t.right="right",t))(Je||{});const pa=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:r,inline:a,emit:g,props:p,slots:s})=>{const A=e.ref({}),P=e.ref(!1),w=e.ref({top:"0",left:"0"}),h=e.ref(!1),b=e.toRef(p,"teleportCenter");e.watch(b,()=>{w.value=JSON.parse(JSON.stringify({})),Q()});const R=$=>{if(p.teleport){const y=$.getBoundingClientRect();return{left:y.left+window.scrollX,top:y.top+window.scrollY}}return{top:0,left:0}},K=($,y)=>{w.value.left=`${$+y-A.value.width}px`},B=$=>{w.value.left=`${$}px`},N=($,y)=>{p.position===Je.left&&B($),p.position===Je.right&&K($,y),p.position===Je.center&&(w.value.left=`${$+y/2-A.value.width/2}px`)},v=$=>{const{width:y,height:m}=$.getBoundingClientRect(),{top:X,left:ne}=p.altPosition?p.altPosition($):R($);return{top:+X,left:+ne,width:y,height:m}},O=()=>{w.value.left="50%",w.value.top="50%",w.value.transform="translate(-50%, -50%)",w.value.position="fixed",delete w.value.opacity},V=()=>{const $=ve(l),{top:y,left:m,transform:X}=p.altPosition($);w.value={top:`${y}px`,left:`${m}px`,transform:X??""}},Q=($=!0)=>{var y;if(!a.value.enabled){if(b.value)return O();if(p.altPosition!==null)return V();if($){const m=p.teleport?(y=n.value)==null?void 0:y.$el:t.value;m&&(A.value=m.getBoundingClientRect()),g("recalculate-position")}return te()}},I=({inputEl:$,left:y,width:m})=>{window.screen.width>768&&!P.value&&N(y,m),k($)},E=$=>{const{top:y,left:m,height:X,width:ne}=v($);w.value.top=`${X+y+ +p.offset}px`,h.value=!1,P.value||(w.value.left=`${m+ne/2-A.value.width/2}px`),I({inputEl:$,left:m,width:ne})},j=$=>{const{top:y,left:m,width:X}=v($);w.value.top=`${y-+p.offset-A.value.height}px`,h.value=!0,I({inputEl:$,left:m,width:X})},k=$=>{if(p.autoPosition){const{left:y,width:m}=v($),{left:X,right:ne}=A.value;if(!P.value){if(Math.abs(X)!==Math.abs(ne)){if(X<=0)return P.value=!0,B(y);if(ne>=document.documentElement.clientWidth)return P.value=!0,K(y,m)}return N(y,m)}}},re=()=>{const $=ve(l);if($){const{height:y}=A.value,{top:m,height:X}=$.getBoundingClientRect(),M=window.innerHeight-m-X,S=m;return y<=M?Ue.bottom:y>M&&y<=S?Ue.top:M>=S?Ue.bottom:Ue.top}return Ue.bottom},ae=$=>re()===Ue.bottom?E($):j($),te=()=>{const $=ve(l);if($)return p.autoPosition?ae($):E($)},_=function($){if($){const y=$.scrollHeight>$.clientHeight,X=window.getComputedStyle($).overflowY.indexOf("hidden")!==-1;return y&&!X}return!0},L=function($){return!$||$===document.body||$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:_($)?$:L($.assignedSlot?$.assignedSlot.parentNode:$.parentNode)},F=$=>{if($)switch(p.position){case Je.left:return{left:0,transform:"translateX(0)"};case Je.right:return{left:`${$.width}px`,transform:"translateX(-100%)"};default:return{left:`${$.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:w,xCorrect:P,setMenuPosition:Q,getScrollableParent:L,shadowRender:($,y)=>{var U,d,T;const m=document.createElement("div"),X=(U=ve(l))==null?void 0:U.getBoundingClientRect();m.setAttribute("id","dp--temp-container");const ne=(d=r.value)!=null&&d.clientWidth?r.value:document.body;ne.append(m);const M=F(X),S=e.h($,{...y,shadow:!0,style:{opacity:0,position:"absolute",...M}},Object.fromEntries(Object.keys(s).filter(C=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(C)).map(C=>[C,s[C]])));e.render(S,m),A.value=(T=S.el)==null?void 0:T.getBoundingClientRect(),e.render(null,m),ne.removeChild(m)}}},He=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],ga=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ya={all:()=>He,monthYear:()=>He.filter(t=>t.use.includes("month-year")),input:()=>ga,timePicker:()=>He.filter(t=>t.use.includes("time")),action:()=>He.filter(t=>t.use.includes("action")),calendar:()=>He.filter(t=>t.use.includes("calendar")),menu:()=>He.filter(t=>t.use.includes("menu")),shared:()=>He.filter(t=>t.use.includes("shared")),yearMode:()=>He.filter(t=>t.use.includes("year-mode"))},Be=(t,n,l)=>{const r=[];return ya[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),l!=null&&l.length&&l.forEach(a=>{a.slot&&r.push(a.slot)}),r},et=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),l=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},tt=(t,n)=>{const{defaultedRange:l,defaultedTz:r}=ge(t),a=W(Ee(W(),r.value.timezone)),g=e.ref([{month:o.getMonth(a),year:o.getYear(a)}]),p=h=>{const b={hours:o.getHours(a),minutes:o.getMinutes(a),seconds:0};return l.value.enabled?[b[h],b[h]]:b[h]},s=e.reactive({hours:p("hours"),minutes:p("minutes"),seconds:p("seconds")});e.watch(l,(h,b)=>{h.enabled!==b.enabled&&(s.hours=p("hours"),s.minutes=p("minutes"),s.seconds=p("seconds"))},{deep:!0});const A=e.computed({get:()=>t.internalModelValue,set:h=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",h)}}),P=e.computed(()=>h=>g.value[h]?g.value[h].month:0),w=e.computed(()=>h=>g.value[h]?g.value[h].year:0);return{calendars:g,time:s,modelValue:A,month:P,year:w,today:a}},ha=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:r,defaultedHighlight:a,defaultedTz:g,propDates:p,defaultedRange:s}=ge(n),{isDisabled:A}=We(n),P=e.ref(null),w=e.ref(Ee(new Date,g.value.timezone)),h=d=>{!d.current&&n.hideOffsetDates||(P.value=d.value)},b=()=>{P.value=null},R=d=>Array.isArray(t.value)&&s.value.enabled&&t.value[0]&&P.value?d?he(P.value,t.value[0]):ye(P.value,t.value[0]):!0,K=(d,T)=>{const C=()=>t.value?T?t.value[0]||null:t.value[1]:null,le=t.value&&Array.isArray(t.value)?C():null;return ue(W(d.value),le)},B=d=>{const T=Array.isArray(t.value)?t.value[0]:null;return d?!ye(P.value??null,T):!0},N=(d,T=!0)=>(s.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!d.current?!1:ue(W(d.value),t.value[T?0:1]):s.value.enabled?K(d,T)&&B(T)||ue(d.value,Array.isArray(t.value)?t.value[0]:null)&&R(T):!1,v=(d,T)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const C=ue(d.value,P.value);return T?he(t.value[0],d.value)&&C:ye(t.value[0],d.value)&&C}return!1},O=d=>!t.value||n.hideOffsetDates&&!d.current?!1:s.value.enabled?n.modelAuto&&Array.isArray(t.value)?ue(d.value,t.value[0]?t.value[0]:w.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(T=>ue(T,d.value)):ue(d.value,t.value?t.value:w.value),V=d=>{if(s.value.autoRange||n.weekPicker){if(P.value){if(n.hideOffsetDates&&!d.current)return!1;const T=o.addDays(P.value,+s.value.autoRange),C=Ve(W(P.value),n.weekStart);return n.weekPicker?ue(C[1],W(d.value)):ue(T,W(d.value))}return!1}return!1},Q=d=>{if(s.value.autoRange||n.weekPicker){if(P.value){const T=o.addDays(P.value,+s.value.autoRange);if(n.hideOffsetDates&&!d.current)return!1;const C=Ve(W(P.value),n.weekStart);return n.weekPicker?he(d.value,C[0])&&ye(d.value,C[1]):he(d.value,P.value)&&ye(d.value,T)}return!1}return!1},I=d=>{if(s.value.autoRange||n.weekPicker){if(P.value){if(n.hideOffsetDates&&!d.current)return!1;const T=Ve(W(P.value),n.weekStart);return n.weekPicker?ue(T[0],d.value):ue(P.value,d.value)}return!1}return!1},E=d=>ut(t.value,P.value,d.value),j=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,k=()=>n.modelAuto?rn(n.internalModelValue):!0,re=d=>{if(n.weekPicker)return!1;const T=s.value.enabled?!N(d)&&!N(d,!1):!0;return!A(d.value)&&!O(d)&&!(!d.current&&n.hideOffsetDates)&&T},ae=d=>s.value.enabled?n.modelAuto?j()&&O(d):!1:O(d),te=d=>a.value?Wn(d.value,p.value.highlight):!1,_=d=>{const T=A(d.value);return T&&(typeof a.value=="function"?!a.value(d.value,T):!a.value.options.highlightDisabled)},L=d=>{var T;return typeof a.value=="function"?a.value(d.value):(T=a.value.weekdays)==null?void 0:T.includes(d.value.getDay())},F=d=>(s.value.enabled||n.weekPicker)&&(!(l.value.count>0)||d.current)&&k()&&!(!d.current&&n.hideOffsetDates)&&!O(d)?E(d):!1,z=d=>{const{isRangeStart:T,isRangeEnd:C}=X(d),le=s.value.enabled?T||C:!1;return{dp__cell_offset:!d.current,dp__pointer:!n.disabled&&!(!d.current&&n.hideOffsetDates)&&!A(d.value),dp__cell_disabled:A(d.value),dp__cell_highlight:!_(d)&&(te(d)||L(d))&&!ae(d)&&!le&&!I(d)&&!(F(d)&&n.weekPicker)&&!C,dp__cell_highlight_active:!_(d)&&(te(d)||L(d))&&ae(d),dp__today:!n.noToday&&ue(d.value,w.value)&&d.current,"dp--past":ye(d.value,w.value),"dp--future":he(d.value,w.value)}},$=d=>({dp__active_date:ae(d),dp__date_hover:re(d)}),y=d=>{if(t.value&&!Array.isArray(t.value)){const T=Ve(t.value,n.weekStart);return{...M(d),dp__range_start:ue(T[0],d.value),dp__range_end:ue(T[1],d.value),dp__range_between_week:he(d.value,T[0])&&ye(d.value,T[1])}}return{...M(d)}},m=d=>{if(t.value&&Array.isArray(t.value)){const T=Ve(t.value[0],n.weekStart),C=t.value[1]?Ve(t.value[1],n.weekStart):[];return{...M(d),dp__range_start:ue(T[0],d.value)||ue(C[0],d.value),dp__range_end:ue(T[1],d.value)||ue(C[1],d.value),dp__range_between_week:he(d.value,T[0])&&ye(d.value,T[1])||he(d.value,C[0])&&ye(d.value,C[1]),dp__range_between:he(d.value,T[1])&&ye(d.value,C[0])}}return{...M(d)}},X=d=>{const T=l.value.count>0?d.current&&N(d)&&k():N(d)&&k(),C=l.value.count>0?d.current&&N(d,!1)&&k():N(d,!1)&&k();return{isRangeStart:T,isRangeEnd:C}},ne=d=>{const{isRangeStart:T,isRangeEnd:C}=X(d);return{dp__range_start:T,dp__range_end:C,dp__range_between:F(d),dp__date_hover:ue(d.value,P.value)&&!T&&!C&&!n.weekPicker,dp__date_hover_start:v(d,!0),dp__date_hover_end:v(d,!1)}},M=d=>({...ne(d),dp__cell_auto_range:Q(d),dp__cell_auto_range_start:I(d),dp__cell_auto_range_end:V(d)}),S=d=>s.value.enabled?s.value.autoRange?M(d):n.modelAuto?{...$(d),...ne(d)}:n.weekPicker?m(d):ne(d):n.weekPicker?y(d):$(d);return{setHoverDate:h,clearHoverDate:b,getDayClassData:d=>n.hideOffsetDates&&!d.current?{}:{...z(d),...S(d),[n.dayClass?n.dayClass(d.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},We=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:r,defaultedMultiDates:a}=ge(t),g=_=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(W(_)):!!it(_,r.value.disabledDates):!1,p=_=>{const L=r.value.maxDate?he(_,r.value.maxDate):!1,F=r.value.minDate?ye(_,r.value.minDate):!1,z=g(_),y=n.value.months.map(S=>+S).includes(o.getMonth(_)),m=t.disabledWeekDays.length?t.disabledWeekDays.some(S=>+S===o.getDay(_)):!1,X=h(_),ne=o.getYear(_),M=ne<+t.yearRange[0]||ne>+t.yearRange[1];return!(L||F||z||y||M||m||X)},s=(_,L)=>ye(...ze(r.value.minDate,_,L))||ue(...ze(r.value.minDate,_,L)),A=(_,L)=>he(...ze(r.value.maxDate,_,L))||ue(...ze(r.value.maxDate,_,L)),P=(_,L,F)=>{let z=!1;return r.value.maxDate&&F&&A(_,L)&&(z=!0),r.value.minDate&&!F&&s(_,L)&&(z=!0),z},w=(_,L,F,z)=>{let $=!1;return z?r.value.minDate&&r.value.maxDate?$=P(_,L,F):(r.value.minDate&&s(_,L)||r.value.maxDate&&A(_,L))&&($=!0):$=!0,$},h=_=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!it(_,r.value.allowedDates):!1,b=_=>!p(_),R=_=>l.value.noDisabledRange?!o.eachDayOfInterval({start:_[0],end:_[1]}).some(F=>b(F)):!0,K=_=>{if(_){const L=o.getYear(_);return L>=+t.yearRange[0]&&L<=t.yearRange[1]}return!0},B=(_,L)=>!!(Array.isArray(_)&&_[L]&&(l.value.maxRange||l.value.minRange)&&K(_[L])),N=(_,L,F=0)=>{if(B(L,F)&&K(_)){const z=o.differenceInCalendarDays(_,L[F]),$=mn(L[F],_),y=$.length===1?0:$.filter(X=>b(X)).length,m=Math.abs(z)-(l.value.minMaxRawRange?0:y);if(l.value.minRange&&l.value.maxRange)return m>=+l.value.minRange&&m<=+l.value.maxRange;if(l.value.minRange)return m>=+l.value.minRange;if(l.value.maxRange)return m<=+l.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,O=_=>Array.isArray(_)?[_[0]?Et(_[0]):null,_[1]?Et(_[1]):null]:Et(_),V=(_,L,F)=>_.find(z=>+z.hours===o.getHours(L)&&z.minutes==="*"?!0:+z.minutes===o.getMinutes(L)&&+z.hours===o.getHours(L))&&F,Q=(_,L,F)=>{const[z,$]=_,[y,m]=L;return!V(z,y,F)&&!V($,m,F)&&F},I=(_,L)=>{const F=Array.isArray(L)?L:[L];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?Q(t.disabledTimes,F,_):!F.some(z=>V(t.disabledTimes,z,_)):_},E=(_,L)=>{const F=Array.isArray(L)?[Ke(L[0]),L[1]?Ke(L[1]):void 0]:Ke(L),z=!t.disabledTimes(F);return _&&z},j=(_,L)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(L,_):E(L,_):L,k=_=>{let L=!0;if(!_||v())return!0;const F=!r.value.minDate&&!r.value.maxDate?O(_):_;return(t.maxTime||r.value.maxDate)&&(L=hn(t.maxTime,r.value.maxDate,"max",be(F),L)),(t.minTime||r.value.minDate)&&(L=hn(t.minTime,r.value.minDate,"min",be(F),L)),j(_,L)},re=_=>{if(!t.monthPicker)return!0;let L=!0;const F=W(Pe(_));if(r.value.minDate&&r.value.maxDate){const z=W(Pe(r.value.minDate)),$=W(Pe(r.value.maxDate));return he(F,z)&&ye(F,$)||ue(F,z)||ue(F,$)}if(r.value.minDate){const z=W(Pe(r.value.minDate));L=he(F,z)||ue(F,z)}if(r.value.maxDate){const z=W(Pe(r.value.maxDate));L=ye(F,z)||ue(F,z)}return L},ae=e.computed(()=>_=>!t.enableTimePicker||t.ignoreTimeValidation?!0:k(_)),te=e.computed(()=>_=>t.monthPicker?Array.isArray(_)&&(l.value.enabled||a.value.enabled)?!_.filter(F=>!re(F)).length:re(_):!0);return{isDisabled:b,validateDate:p,validateMonthYearInRange:w,isDateRangeAllowed:R,checkMinMaxRange:N,isValidTime:k,isTimeValid:ae,isMonthValid:te}},ft=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),l=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},ka=(t,n,l)=>{const r=e.ref(0),a=e.reactive({[je.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[je.calendar]:!1,[je.header]:!1}),g=e.computed(()=>t.monthPicker||t.timePicker),p=h=>{var b;if((b=t.flow)!=null&&b.length){if(!h&&g.value)return w();a[h]=!0,Object.keys(a).filter(R=>!a[R]).length||w()}},s=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),w())},A=()=>{r.value=-1},P=(h,b,...R)=>{var K,B;t.flow[r.value]===h&&l.value&&((B=(K=l.value)[b])==null||B.call(K,...R))},w=()=>{P(we.month,"toggleMonthPicker",!0),P(we.year,"toggleYearPicker",!0),P(we.calendar,"toggleTimePicker",!1,!0),P(we.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===we.hours||h===we.minutes||h===we.seconds)&&P(h,"toggleTimePicker",!0,!0,h)};return{childMount:p,updateFlowStep:s,resetFlow:A,flowStep:r}},mt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Re={...mt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},ba={key:1,class:"dp__input_wrap"},va=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],wa={key:2,class:"dp__clear_icon"},Ma=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...mt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTextInput:g,defaultedAriaLabels:p,defaultedInline:s,defaultedConfig:A,defaultedRange:P,defaultedMultiDates:w,getDefaultPattern:h,getDefaultStartTime:b}=ge(a),{checkMinMaxRange:R}=We(a),K=e.ref(),B=e.ref(null),N=e.ref(!1),v=e.ref(!1),O=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!g.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!g.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:N.value||a.isMenuOpen,dp__input_reg:!g.value.enabled,[a.inputClassName]:!!a.inputClassName})),V=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),K.value=null)},Q=m=>{const X=b();return Un(m,g.value.format??h(),X??pn({},a.enableSeconds),a.inputValue,v.value,a.formatLocale)},I=m=>{const{rangeSeparator:X}=g.value,[ne,M]=m.split(`${X}`);if(ne){const S=Q(ne.trim()),U=M?Q(M.trim()):null;if(o.isAfter(S,U))return;const d=S&&U?[S,U]:[S];R(U,d,0)&&(K.value=S?d:null)}},E=()=>{v.value=!0},j=m=>{if(P.value.enabled)I(m);else if(w.value.enabled){const X=m.split(";");K.value=X.map(ne=>Q(ne.trim())).filter(ne=>ne)}else K.value=Q(m)},k=m=>{var ne;const X=typeof m=="string"?m:(ne=m.target)==null?void 0:ne.value;X!==""?(g.value.openMenu&&!a.isMenuOpen&&r("open"),j(X),r("set-input-date",K.value)):V(),v.value=!1,r("update:input-value",X)},re=m=>{g.value.enabled?(j(m.target.value),g.value.enterSubmit&&Pt(K.value)&&a.inputValue!==""?(r("set-input-date",K.value,!0),K.value=null):g.value.enterSubmit&&a.inputValue===""&&(K.value=null,r("clear"))):_(m)},ae=m=>{g.value.enabled&&g.value.tabSubmit&&j(m.target.value),g.value.tabSubmit&&Pt(K.value)&&a.inputValue!==""?(r("set-input-date",K.value,!0,!0),K.value=null):g.value.tabSubmit&&a.inputValue===""&&(K.value=null,r("clear",!0))},te=()=>{N.value=!0,r("focus"),e.nextTick().then(()=>{var m;g.value.enabled&&g.value.selectOnFocus&&((m=B.value)==null||m.select())})},_=m=>{m.preventDefault(),Oe(m,A.value,!0),g.value.enabled&&g.value.openMenu&&!s.value.input&&!a.isMenuOpen?r("open"):g.value.enabled||r("toggle")},L=()=>{r("real-blur"),N.value=!1,(!a.isMenuOpen||s.value.enabled&&s.value.input)&&r("blur"),a.autoApply&&g.value.enabled&&K.value&&!a.isMenuOpen&&(r("set-input-date",K.value),r("select-date"),K.value=null)},F=m=>{Oe(m,A.value,!0),r("clear")},z=m=>{if(m.key==="Tab"&&ae(m),m.key==="Enter"&&re(m),!g.value.enabled){if(m.code==="Tab")return;m.preventDefault()}};return n({focusInput:()=>{var m;(m=B.value)==null||m.focus({preventScroll:!0})},setParsedDate:m=>{K.value=m}}),(m,X)=>{var ne;return e.openBlock(),e.createElementBlock("div",{onClick:_},[m.$slots.trigger&&!m.$slots["dp-input"]&&!e.unref(s).enabled?e.renderSlot(m.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!m.$slots.trigger&&(!e.unref(s).enabled||e.unref(s).input)?(e.openBlock(),e.createElementBlock("div",ba,[m.$slots["dp-input"]&&!m.$slots.trigger&&(!e.unref(s).enabled||e.unref(s).enabled&&e.unref(s).input)?e.renderSlot(m.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:k,onEnter:re,onTab:ae,onClear:F,onBlur:L,onKeypress:z,onPaste:E,openMenu:()=>m.$emit("open"),closeMenu:()=>m.$emit("close"),toggleMenu:()=>m.$emit("toggle")}):e.createCommentVNode("",!0),m.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:m.uid?`dp-input-${m.uid}`:void 0,ref_key:"inputRef",ref:B,"data-test":"dp-input",name:m.name,class:e.normalizeClass(O.value),inputmode:e.unref(g).enabled?"text":"none",placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,required:m.required,value:t.inputValue,autocomplete:m.autocomplete,"aria-label":(ne=e.unref(p))==null?void 0:ne.input,"aria-disabled":m.disabled||void 0,"aria-invalid":m.state===!1?!0:void 0,onInput:k,onBlur:L,onFocus:te,onKeypress:z,onKeydown:z,onPaste:E},null,42,va)),e.createElementVNode("div",{onClick:X[2]||(X[2]=M=>r("toggle"))},[m.$slots["input-icon"]&&!m.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:X[0]||(X[0]=M=>r("toggle"))},[e.renderSlot(m.$slots,"input-icon")])):e.createCommentVNode("",!0),!m.$slots["input-icon"]&&!m.hideInputIcon&&!m.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(qe),{key:1,class:"dp__input_icon dp__input_icons",onClick:X[1]||(X[1]=M=>r("toggle"))})):e.createCommentVNode("",!0)]),m.$slots["clear-icon"]&&t.inputValue&&m.clearable&&!m.disabled&&!m.readonly?(e.openBlock(),e.createElementBlock("span",wa,[e.renderSlot(m.$slots,"clear-icon",{clear:F})])):e.createCommentVNode("",!0),m.clearable&&!m.$slots["clear-icon"]&&t.inputValue&&!m.disabled&&!m.readonly?(e.openBlock(),e.createBlock(e.unref(en),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:X[3]||(X[3]=e.withModifiers(M=>F(M),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Sa=["title"],Da=["disabled"],Ca=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Re},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:g,defaultedMultiCalendars:p,defaultedTextInput:s,defaultedInline:A,defaultedRange:P,defaultedMultiDates:w,getDefaultPattern:h}=ge(r),{isTimeValid:b,isMonthValid:R}=We(r),{buildMatrix:K}=Le(),B=e.ref(null),N=e.ref(null),v=e.ref(!1),O=e.ref({}),V=e.ref(null),Q=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&K([ve(B),ve(N)],"actionRow"),I(),window.addEventListener("resize",I)}),e.onUnmounted(()=>{window.removeEventListener("resize",I)});const I=()=>{v.value=!1,setTimeout(()=>{var y,m;const z=(y=V.value)==null?void 0:y.getBoundingClientRect(),$=(m=Q.value)==null?void 0:m.getBoundingClientRect();z&&$&&(O.value.maxWidth=`${$.width-z.width-20}px`),v.value=!0},0)},E=e.computed(()=>P.value.enabled&&!P.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),j=e.computed(()=>!b.value(r.internalModelValue)||!R.value(r.internalModelValue)||!E.value),k=()=>{const z=g.value;return r.timePicker||r.monthPicker,z(be(r.internalModelValue))},re=()=>{const z=r.internalModelValue;return p.value.count>0?`${ae(z[0])} - ${ae(z[1])}`:[ae(z[0]),ae(z[1])]},ae=z=>yn(z,g.value,r.formatLocale,s.value.rangeSeparator,r.modelAuto,h()),te=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof g.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?re():w.value.enabled?r.internalModelValue.map(z=>`${ae(z)}`):r.modelAuto?`${ae(r.internalModelValue[0])}`:`${ae(r.internalModelValue[0])} -`:ae(r.internalModelValue):k()),_=()=>w.value.enabled?"; ":" - ",L=e.computed(()=>Array.isArray(te.value)?te.value.join(_()):te.value),F=()=>{b.value(r.internalModelValue)&&R.value(r.internalModelValue)&&E.value?l("select-date"):l("invalid-select")};return(z,$)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:Q,class:"dp__action_row"},[z.$slots["action-row"]?e.renderSlot(z.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:z.internalModelValue,disabled:j.value,selectDate:()=>z.$emit("select-date"),closePicker:()=>z.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:L.value,style:e.normalizeStyle(O.value)},[z.$slots["action-preview"]&&v.value?e.renderSlot(z.$slots,"action-preview",{key:0,value:z.internalModelValue}):e.createCommentVNode("",!0),!z.$slots["action-preview"]&&v.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(L.value),1)],64)):e.createCommentVNode("",!0)],12,Sa)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:V,class:"dp__action_buttons","data-dp-element":"action-row"},[z.$slots["action-buttons"]?e.renderSlot(z.$slots,"action-buttons",{key:0,value:z.internalModelValue}):e.createCommentVNode("",!0),z.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(A).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:B,type:"button",class:"dp__action_button dp__action_cancel",onClick:$[0]||($[0]=y=>z.$emit("close-picker")),onKeydown:$[1]||($[1]=y=>e.unref(De)(y,()=>z.$emit("close-picker")))},e.toDisplayString(z.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:$[2]||($[2]=y=>z.$emit("select-now")),onKeydown:$[3]||($[3]=y=>e.unref(De)(y,()=>z.$emit("select-now")))},e.toDisplayString(z.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:N,type:"button",class:"dp__action_button dp__action_select",disabled:j.value,"data-test":"select-button",onKeydown:$[4]||($[4]=y=>e.unref(De)(y,()=>F())),onClick:F},e.toDisplayString(z.selectText),41,Da)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),Ba={class:"dp__selection_grid_header"},Ta=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],$a=["aria-label"],nt=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:g}=Le(),p=l,s=t,{defaultedAriaLabels:A,defaultedTextInput:P,defaultedConfig:w}=ge(s),{hideNavigationButtons:h}=ft(),b=e.ref(!1),R=e.ref(null),K=e.ref(null),B=e.ref([]),N=e.ref(),v=e.ref(null),O=e.ref(0),V=e.ref(null);e.onBeforeUpdate(()=>{R.value=null}),e.onMounted(()=>{e.nextTick().then(()=>te()),s.noOverlayFocus||I(),Q(!0)}),e.onUnmounted(()=>Q(!1));const Q=S=>{var U;s.arrowNavigation&&((U=s.headerRefs)!=null&&U.length?g(S):r(S))},I=()=>{var U;const S=ve(K);S&&(P.value.enabled||(R.value?(U=R.value)==null||U.focus({preventScroll:!0}):S.focus({preventScroll:!0})),b.value=S.clientHeight<S.scrollHeight)},E=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!s.useRelative,"dp--overlay-relative":s.useRelative})),j=e.computed(()=>s.useRelative?{height:`${s.height}px`,width:"260px"}:void 0),k=e.computed(()=>({dp__overlay_col:!0})),re=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:b.value,dp__button_bottom:s.isLast})),ae=e.computed(()=>{var S,U;return{dp__overlay_container:!0,dp__container_flex:((S=s.items)==null?void 0:S.length)<=6,dp__container_block:((U=s.items)==null?void 0:U.length)>6}});e.watch(()=>s.items,()=>te(!1),{deep:!0});const te=(S=!0)=>{e.nextTick().then(()=>{const U=ve(R),d=ve(K),T=ve(v),C=ve(V),le=T?T.getBoundingClientRect().height:0;d&&(d.getBoundingClientRect().height?O.value=d.getBoundingClientRect().height-le:O.value=w.value.modeHeight-le),U&&C&&S&&(C.scrollTop=U.offsetTop-C.offsetTop-(O.value/2-U.getBoundingClientRect().height)-le)})},_=S=>{S.disabled||p("selected",S.value)},L=()=>{p("toggle"),p("reset-flow")},F=()=>{s.escClose&&L()},z=(S,U,d,T)=>{S&&((U.active||U.value===s.focusValue)&&(R.value=S),s.arrowNavigation&&(Array.isArray(B.value[d])?B.value[d][T]=S:B.value[d]=[S],$()))},$=()=>{var U,d;const S=(U=s.headerRefs)!=null&&U.length?[s.headerRefs].concat(B.value):B.value.concat([s.skipButtonRef?[]:[v.value]]);a(be(S),(d=s.headerRefs)!=null&&d.length?"monthPicker":"selectionGrid")},y=S=>{s.arrowNavigation||Oe(S,w.value,!0)},m=S=>{N.value=S,p("hover-value",S)},X=()=>{if(L(),!s.isLast){const S=Hn(s.menuWrapRef??null,"action-row");if(S){const U=sn(S);U==null||U.focus()}}},ne=S=>{switch(S.key){case pe.esc:return F();case pe.arrowLeft:return y(S);case pe.arrowRight:return y(S);case pe.arrowUp:return y(S);case pe.arrowDown:return y(S);default:return}},M=S=>{if(S.key===pe.enter)return L();if(S.key===pe.tab)return X()};return n({focusGrid:I}),(S,U)=>{var d;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:K,class:e.normalizeClass(E.value),style:e.normalizeStyle(j.value),role:"dialog",tabindex:"0",onKeydown:ne},[e.createElementVNode("div",{ref_key:"containerRef",ref:V,class:e.normalizeClass(ae.value),role:"grid",style:e.normalizeStyle({"--dp-overlay-height":`${O.value}px`})},[e.createElementVNode("div",Ba,[e.renderSlot(S.$slots,"header")]),S.$slots.overlay?e.renderSlot(S.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(S.items,(T,C)=>(e.openBlock(),e.createElementBlock("div",{key:C,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:S.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T,(le,f)=>(e.openBlock(),e.createElementBlock("div",{key:le.value,ref_for:!0,ref:Z=>z(Z,le,C,f),role:"gridcell",class:e.normalizeClass(k.value),"aria-selected":le.active||void 0,"aria-disabled":le.disabled||void 0,tabindex:"0","data-test":le.text,onClick:Z=>_(le),onKeydown:Z=>e.unref(De)(Z,()=>_(le),!0),onMouseover:Z=>m(le.value)},[e.createElementVNode("div",{class:e.normalizeClass(le.className)},[S.$slots.item?e.renderSlot(S.$slots,"item",{key:0,item:le}):e.createCommentVNode("",!0),S.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(le.text),1)],64))],2)],42,Ta))),128))],2))),128))],6),S.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(d=e.unref(A))==null?void 0:d.toggleOverlay,class:e.normalizeClass(re.value),tabindex:"0",onClick:L,onKeydown:M},[e.renderSlot(S.$slots,"button-icon")],42,$a)),[[e.vShow,!e.unref(h)(S.hideNavigation,S.type)]]):e.createCommentVNode("",!0)],38)}}}),pt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,g)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(p,s)=>(e.openBlock(),e.createElementBlock("div",{key:p,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:p,index:s})],2))),128))],2))}}),Aa=["aria-label","aria-disabled"],at=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,r=e.ref(null);return e.onMounted(()=>l("set-ref",r)),(a,g)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:g[0]||(g[0]=p=>a.$emit("activate")),onKeydown:g[1]||(g[1]=p=>e.unref(De)(p,()=>a.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,Aa))}}),Pa={class:"dp--year-mode-picker"},Ra=["aria-label","data-test"],Mn=e.defineComponent({__name:"YearModePicker",props:{...Re,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,r=t,{showRightIcon:a,showLeftIcon:g}=ft(),{defaultedConfig:p,defaultedMultiCalendars:s,defaultedAriaLabels:A,defaultedTransitions:P}=ge(r),{showTransition:w,transitionName:h}=et(P),b=(B=!1,N)=>{l("toggle-year-picker",{flow:B,show:N})},R=B=>{l("year-select",B)},K=(B=!1)=>{l("handle-year",B)};return(B,N)=>{var v,O,V;return e.openBlock(),e.createElementBlock("div",Pa,[e.unref(g)(e.unref(s),t.instance)?(e.openBlock(),e.createBlock(at,{key:0,ref:"mpPrevIconRef","aria-label":(v=e.unref(A))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:N[0]||(N[0]=Q=>K(!1))},{default:e.withCtx(()=>[B.$slots["arrow-left"]?e.renderSlot(B.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(O=e.unref(A))==null?void 0:O.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:N[1]||(N[1]=()=>b(!1)),onKeydown:N[2]||(N[2]=e.withKeys(()=>b(!1),["enter"]))},[B.$slots.year?e.renderSlot(B.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),B.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ra),e.unref(a)(e.unref(s),t.instance)?(e.openBlock(),e.createBlock(at,{key:1,ref:"mpNextIconRef","aria-label":(V=e.unref(A))==null?void 0:V.nextYear,disabled:t.isDisabled(!0),onActivate:N[3]||(N[3]=Q=>K(!0))},{default:e.withCtx(()=>[B.$slots["arrow-right"]?e.renderSlot(B.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(vt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(h)(t.showYearPicker),css:e.unref(w)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(nt,{key:0,items:t.items,"text-input":B.textInput,"esc-close":B.escClose,config:B.config,"is-last":B.autoApply&&!e.unref(p).keepActionRow,"hide-navigation":B.hideNavigation,"aria-labels":B.ariaLabels,type:"year",onToggle:b,onSelected:N[4]||(N[4]=Q=>R(Q))},e.createSlots({"button-icon":e.withCtx(()=>[B.$slots["calendar-icon"]?e.renderSlot(B.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(qe),{key:1}))]),_:2},[B.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(B.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Lt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ue(t,r))){const r=n.value.filter(a=>!ue(a,t));n.value=r.length?r:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Ht=(t,n,l)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?ye(n,r[0])?(r.unshift(n),l("range-start",r[0]),l("range-start",r[1])):(r[1]=n,l("range-end",n)):(r=[n],l("range-start",n)),r},gt=(t,n,l,r)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&r&&l&&n("auto-apply"))},Sn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ee(W(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ee(W(t.value),t.timezone))},Dn=(t,n,l,r)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(he(t,n.value[0])||ue(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(ye(t,n.value[1])||ue(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],Cn=({multiCalendars:t,highlight:n,propDates:l,calendars:r,modelValue:a,props:g,filters:p,year:s,month:A,emit:P})=>{const w=e.computed(()=>Ct(g.yearRange,g.locale,g.reverseYears)),h=e.ref([!1]),b=e.computed(()=>(E,j)=>{const k=o.set(Pe(new Date),{month:A.value(E),year:s.value(E)}),re=j?o.endOfYear(k):o.startOfYear(k);return gn(re,l.value.maxDate,l.value.minDate,g.preventMinMaxNavigation,j)}),R=()=>{for(let E=0;E<t.value.count;E++)if(E===0)r.value[E]=r.value[0];else{const j=o.set(W(),r.value[E-1]);r.value[E]={month:o.getMonth(j),year:o.getYear(o.addYears(j,1))}}},K=E=>{if(!E)return R();const j=o.set(W(),r.value[E]);return r.value[0].year=o.getYear(o.subYears(j,t.value.count-1)),R()},B=E=>g.focusStartDate?E[0]:E[1]?E[1]:E[0],N=()=>{if(a.value){const E=Array.isArray(a.value)?B(a.value):a.value;r.value[0]={month:o.getMonth(E),year:o.getYear(E)}}};e.onMounted(()=>{N(),t.value.count&&R()});const v=(E,j)=>{r.value[j].year=E,P("update-month-year",{instance:j,year:E,month:r.value[j].month}),t.value.count&&!t.value.solo&&K(j)},O=e.computed(()=>E=>Ge(w.value,j=>{var te;const k=s.value(E)===j.value,re=Ze(j.value,Qe(l.value.minDate),Qe(l.value.maxDate))||((te=p.value.years)==null?void 0:te.includes(s.value(E))),ae=_t(n.value,j.value);return{active:k,disabled:re,highlighted:ae}})),V=(E,j)=>{v(E,j),I(j)},Q=(E,j=!1)=>{if(!b.value(E,j)){const k=j?s.value(E)+1:s.value(E)-1;v(k,E)}},I=(E,j=!1,k)=>{j||P("reset-flow"),k!==void 0?h.value[E]=k:h.value[E]=!h.value[E],h.value[E]?P("overlay-toggle",{open:!0,overlay:we.year}):(P("overlay-closed"),P("overlay-toggle",{open:!1,overlay:we.year}))};return{isDisabled:b,groupedYears:O,showYearPicker:h,selectYear:v,toggleYearPicker:I,handleYearSelect:V,handleYear:Q}},Na=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:g,defaultedRange:p,defaultedHighlight:s,propDates:A,defaultedTz:P,defaultedFilters:w,defaultedMultiDates:h}=ge(t),{modelValue:b,year:R,month:K,calendars:B}=tt(t,n),N=e.computed(()=>an(t.formatLocale,t.locale,t.monthNameFormat)),v=e.ref(null),{checkMinMaxRange:O}=We(t),{selectYear:V,groupedYears:Q,showYearPicker:I,toggleYearPicker:E,handleYearSelect:j,handleYear:k,isDisabled:re}=Cn({modelValue:b,multiCalendars:l,highlight:s,calendars:B,year:R,propDates:A,month:K,filters:w,props:t,emit:n});e.onMounted(()=>{t.startDate&&(b.value&&t.focusStartDate||!b.value)&&V(o.getYear(W(t.startDate)),0)});const ae=T=>T?{month:o.getMonth(T),year:o.getYear(T)}:{month:null,year:null},te=()=>b.value?Array.isArray(b.value)?b.value.map(T=>ae(T)):ae(b.value):ae(),_=(T,C)=>{const le=B.value[T],f=te();return Array.isArray(f)?f.some(Z=>Z.year===(le==null?void 0:le.year)&&Z.month===C):(le==null?void 0:le.year)===f.year&&C===f.month},L=(T,C,le)=>{var Z,H;const f=te();return Array.isArray(f)?R.value(C)===((Z=f[le])==null?void 0:Z.year)&&T===((H=f[le])==null?void 0:H.month):!1},F=(T,C)=>{if(p.value.enabled){const le=te();if(Array.isArray(b.value)&&Array.isArray(le)){const f=L(T,C,0)||L(T,C,1),Z=Ye(Pe(W()),T,R.value(C));return ut(b.value,v.value,Z)&&!f}return!1}return!1},z=e.computed(()=>T=>Ge(N.value,C=>{var ie;const le=_(T,C.value),f=Ze(C.value,dn(R.value(T),A.value.minDate),fn(R.value(T),A.value.maxDate))||Qn(A.value.disabledDates,R.value(T)).includes(C.value)||((ie=w.value.months)==null?void 0:ie.includes(C.value)),Z=F(C.value,T),H=kn(s.value,C.value,R.value(T));return{active:le,disabled:f,isBetween:Z,highlighted:H}})),$=(T,C)=>Ye(Pe(W()),T,R.value(C)),y=(T,C)=>{const le=b.value?b.value:Pe(new Date);b.value=Ye(le,T,R.value(C)),n("auto-apply"),n("update-flow-step")},m=(T,C)=>{const le=$(T,C);p.value.fixedEnd||p.value.fixedStart?b.value=Dn(le,b,n,p):b.value?O(le,b.value)&&(b.value=Ht(b,$(T,C),n)):b.value=[$(T,C)],e.nextTick().then(()=>{gt(b.value,n,t.autoApply,t.modelAuto)})},X=(T,C)=>{Lt($(T,C),b,h.value.limit),n("auto-apply",!0)},ne=(T,C)=>(B.value[C].month=T,S(C,B.value[C].year,T),h.value.enabled?X(T,C):p.value.enabled?m(T,C):y(T,C)),M=(T,C)=>{V(T,C),S(C,T,null)},S=(T,C,le)=>{let f=le;if(!f&&f!==0){const Z=te();f=Array.isArray(Z)?Z[T].month:Z.month}n("update-month-year",{instance:T,year:C,month:f})};return{groupedMonths:z,groupedYears:Q,year:R,isDisabled:re,defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:g,showYearPicker:I,modelValue:b,presetDate:(T,C)=>{Sn({value:T,modelValue:b,range:p.value.enabled,timezone:C?void 0:P.value.timezone}),n("auto-apply")},setHoverDate:(T,C)=>{v.value=$(T,C)},selectMonth:ne,selectYear:M,toggleYearPicker:E,handleYearSelect:j,handleYear:k,getModelMonthYear:te}},Ea=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Re},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=e.useSlots(),g=Be(a,"yearMode"),p=t;e.onMounted(()=>{p.shadow||r("mount",null)});const{groupedMonths:s,groupedYears:A,year:P,isDisabled:w,defaultedMultiCalendars:h,defaultedConfig:b,showYearPicker:R,modelValue:K,presetDate:B,setHoverDate:N,selectMonth:v,selectYear:O,toggleYearPicker:V,handleYearSelect:Q,handleYear:I,getModelMonthYear:E}=Na(p,r);return n({getSidebarProps:()=>({modelValue:K,year:P,getModelMonthYear:E,selectMonth:v,selectYear:O,handleYear:I}),presetDate:B,toggleYearPicker:k=>V(0,k)}),(k,re)=>(e.openBlock(),e.createBlock(pt,{"multi-calendars":e.unref(h).count,collapse:k.collapse,stretch:""},{default:e.withCtx(({instance:ae})=>[k.$slots["top-extra"]?e.renderSlot(k.$slots,"top-extra",{key:0,value:k.internalModelValue}):e.createCommentVNode("",!0),k.$slots["month-year"]?e.renderSlot(k.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(P),months:e.unref(s)(ae),years:e.unref(A)(ae),selectMonth:e.unref(v),selectYear:e.unref(O),instance:ae}))):(e.openBlock(),e.createBlock(nt,{key:2,items:e.unref(s)(ae),"arrow-navigation":k.arrowNavigation,"is-last":k.autoApply&&!e.unref(b).keepActionRow,"esc-close":k.escClose,height:e.unref(b).modeHeight,config:k.config,"no-overlay-focus":!!(k.noOverlayFocus||k.textInput),"use-relative":"",type:"month",onSelected:te=>e.unref(v)(te,ae),onHoverValue:te=>e.unref(N)(te,ae)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Mn,e.mergeProps(k.$props,{items:e.unref(A)(ae),instance:ae,"show-year-picker":e.unref(R)[ae],year:e.unref(P)(ae),"is-disabled":te=>e.unref(w)(ae,te),onHandleYear:te=>e.unref(I)(ae,te),onYearSelect:te=>e.unref(Q)(te,ae),onToggleYearPicker:te=>e.unref(V)(ae,te==null?void 0:te.flow,te==null?void 0:te.show)}),e.createSlots({_:2},[e.renderList(e.unref(g),(te,_)=>({name:te,fn:e.withCtx(L=>[e.renderSlot(k.$slots,te,e.normalizeProps(e.guardReactiveProps(L)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:te})=>[e.renderSlot(k.$slots,"month-overlay-value",{text:te.text,value:te.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),_a=(t,n)=>{const{modelValue:l}=tt(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedMultiDates:g,defaultedFilters:p,defaultedRange:s,propDates:A}=ge(t),P=e.ref();e.onMounted(()=>{t.startDate&&(l.value&&t.focusStartDate||!l.value)&&(P.value=o.getYear(W(t.startDate)))});const w=N=>Array.isArray(l.value)?l.value.some(v=>o.getYear(v)===N):l.value?o.getYear(l.value)===N:!1,h=N=>s.value.enabled&&Array.isArray(l.value)?ut(l.value,r.value,R(N)):!1,b=e.computed(()=>Ge(Ct(t.yearRange,t.locale,t.reverseYears),N=>{const v=w(N.value),O=Ze(N.value,Qe(A.value.minDate),Qe(A.value.maxDate))||p.value.years.includes(N.value),V=h(N.value)&&!v,Q=_t(a.value,N.value);return{active:v,disabled:O,isBetween:V,highlighted:Q}})),R=N=>o.setYear(Pe(new Date),N);return{groupedYears:b,modelValue:l,focusYear:P,setHoverValue:N=>{r.value=o.setYear(Pe(new Date),N)},selectYear:N=>{var v;if(n("update-month-year",{instance:0,year:N}),g.value.enabled)return l.value?Array.isArray(l.value)&&(((v=l.value)==null?void 0:v.map(V=>o.getYear(V))).includes(N)?l.value=l.value.filter(V=>o.getYear(V)!==N):l.value.push(o.setYear(Ce(W()),N))):l.value=[o.setYear(Ce(W()),N)],n("auto-apply",!0);s.value.enabled?(l.value=Ht(l,R(N),n),e.nextTick().then(()=>{gt(l.value,n,t.autoApply,t.modelAuto)})):(l.value=R(N),n("auto-apply"))}}},Va=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Re},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const r=l,a=t,{groupedYears:g,modelValue:p,focusYear:s,selectYear:A,setHoverValue:P}=_a(a,r),{defaultedConfig:w}=ge(a);return n({getSidebarProps:()=>({modelValue:p,selectYear:A})}),(b,R)=>(e.openBlock(),e.createElementBlock("div",null,[b.$slots["top-extra"]?e.renderSlot(b.$slots,"top-extra",{key:0,value:b.internalModelValue}):e.createCommentVNode("",!0),b.$slots["month-year"]?e.renderSlot(b.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(g),selectYear:e.unref(A)}))):(e.openBlock(),e.createBlock(nt,{key:2,items:e.unref(g),"is-last":b.autoApply&&!e.unref(w).keepActionRow,height:e.unref(w).modeHeight,config:b.config,"no-overlay-focus":!!(b.noOverlayFocus||b.textInput),"focus-value":e.unref(s),type:"year","use-relative":"",onSelected:e.unref(A),onHoverValue:e.unref(P)},e.createSlots({_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:K})=>[e.renderSlot(b.$slots,"year-overlay-value",{text:K.text,value:K.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ya={key:0,class:"dp__time_input"},Oa=["data-test","aria-label","onKeydown","onClick","onMousedown"],Ia=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),za=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),La=["aria-label","disabled","data-test","onKeydown","onClick"],Ha=["data-test","aria-label","onKeydown","onClick","onMousedown"],Wa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ua=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ja={key:0},Ka=["aria-label"],xa=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Re},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{setTimePickerElements:g,setTimePickerBackRef:p}=Le(),{defaultedAriaLabels:s,defaultedTransitions:A,defaultedFilters:P,defaultedConfig:w,defaultedRange:h}=ge(a),{transitionName:b,showTransition:R}=et(A),K=e.reactive({hours:!1,minutes:!1,seconds:!1}),B=e.ref("AM"),N=e.ref(null),v=e.ref([]),O=e.ref();e.onMounted(()=>{r("mounted")});const V=u=>o.set(new Date,{hours:u.hours,minutes:u.minutes,seconds:a.enableSeconds?u.seconds:0,milliseconds:0}),Q=e.computed(()=>u=>$(u,a[u])||E(u,a[u])),I=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),E=(u,Y)=>h.value.enabled&&!h.value.disableTimeRangeValidation?!a.validateTime(u,Y):!1,j=(u,Y)=>{if(h.value.enabled&&!h.value.disableTimeRangeValidation){const J=Y?+a[`${u}Increment`]:-+a[`${u}Increment`],G=a[u]+J;return!a.validateTime(u,G)}return!1},k=e.computed(()=>u=>!M(+a[u]+ +a[`${u}Increment`],u)||j(u,!0)),re=e.computed(()=>u=>!M(+a[u]-+a[`${u}Increment`],u)||j(u,!1)),ae=(u,Y)=>o.add(o.set(W(),u),Y),te=(u,Y)=>o.sub(o.set(W(),u),Y),_=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),L=e.computed(()=>{const u=[{type:"hours"}];return a.enableMinutes&&u.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&u.push({type:"",separator:!0},{type:"seconds"}),u}),F=e.computed(()=>L.value.filter(u=>!u.separator)),z=e.computed(()=>u=>{if(u==="hours"){const Y=le(+a.hours);return{text:Y<10?`0${Y}`:`${Y}`,value:Y}}return{text:a[u]<10?`0${a[u]}`:`${a[u]}`,value:a[u]}}),$=(u,Y)=>{var G;if(!a.disabledTimesConfig)return!1;const J=a.disabledTimesConfig(a.order,u==="hours"?Y:void 0);return J[u]?!!((G=J[u])!=null&&G.includes(Y)):!0},y=(u,Y)=>Y!=="hours"||B.value==="AM"?u:u+12,m=u=>{const Y=a.is24?24:12,J=u==="hours"?Y:60,G=+a[`${u}GridIncrement`],c=u==="hours"&&!a.is24?G:0,x=[];for(let oe=c;oe<J;oe+=G)x.push({value:a.is24?oe:y(oe,u),text:oe<10?`0${oe}`:`${oe}`});return u==="hours"&&!a.is24&&x.unshift({value:B.value==="PM"?12:0,text:"12"}),Ge(x,oe=>({active:!1,disabled:P.value.times[u].includes(oe.value)||!M(oe.value,u)||$(u,oe.value)||E(u,oe.value)}))},X=u=>u>=0?u:59,ne=u=>u>=0?u:23,M=(u,Y)=>{const J=a.minTime?V(At(a.minTime)):null,G=a.maxTime?V(At(a.maxTime)):null,c=V(At(I.value,Y,Y==="minutes"||Y==="seconds"?X(u):ne(u)));return J&&G?(o.isBefore(c,G)||o.isEqual(c,G))&&(o.isAfter(c,J)||o.isEqual(c,J)):J?o.isAfter(c,J)||o.isEqual(c,J):G?o.isBefore(c,G)||o.isEqual(c,G):!0},S=u=>a[`no${u[0].toUpperCase()+u.slice(1)}Overlay`],U=u=>{S(u)||(K[u]=!K[u],K[u]?r("overlay-opened",u):r("overlay-closed",u))},d=u=>u==="hours"?o.getHours:u==="minutes"?o.getMinutes:o.getSeconds,T=()=>{O.value&&clearTimeout(O.value)},C=(u,Y=!0,J)=>{const G=Y?ae:te,c=Y?+a[`${u}Increment`]:-+a[`${u}Increment`];M(+a[u]+c,u)&&r(`update:${u}`,d(u)(G({[u]:+a[u]},{[u]:+a[`${u}Increment`]}))),!(J!=null&&J.keyboard)&&w.value.timeArrowHoldThreshold&&(O.value=setTimeout(()=>{C(u,Y)},w.value.timeArrowHoldThreshold))},le=u=>a.is24?u:(u>=12?B.value="PM":B.value="AM",Yn(u)),f=()=>{B.value==="PM"?(B.value="AM",r("update:hours",a.hours-12)):(B.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",B.value)},Z=u=>{K[u]=!0},H=(u,Y,J)=>{if(u&&a.arrowNavigation){Array.isArray(v.value[Y])?v.value[Y][J]=u:v.value[Y]=[u];const G=v.value.reduce((c,x)=>x.map((oe,fe)=>[...c[fe]||[],x[fe]]),[]);p(a.closeTimePickerBtn),N.value&&(G[1]=G[1].concat(N.value)),g(G,a.order)}},ie=(u,Y)=>(U(u),r(`update:${u}`,Y));return n({openChildCmp:Z}),(u,Y)=>{var J;return u.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ya,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(L.value,(G,c)=>{var x,oe,fe;return e.openBlock(),e.createElementBlock("div",{key:c,class:e.normalizeClass(_.value)},[G.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:ce=>H(ce,c,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!u.timePickerInline,dp__inc_dec_button_inline:u.timePickerInline,dp__tp_inline_btn_top:u.timePickerInline,dp__inc_dec_button_disabled:k.value(G.type)}),"data-test":`${G.type}-time-inc-btn-${a.order}`,"aria-label":(x=e.unref(s))==null?void 0:x.incrementValue(G.type),tabindex:"0",onKeydown:ce=>e.unref(De)(ce,()=>C(G.type,!0,{keyboard:!0}),!0),onClick:ce=>e.unref(w).timeArrowHoldThreshold?void 0:C(G.type,!0),onMousedown:ce=>e.unref(w).timeArrowHoldThreshold?C(G.type,!0):void 0,onMouseup:T},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Ia,za],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],64))],42,Oa),e.createElementVNode("button",{ref_for:!0,ref:ce=>H(ce,c,1),type:"button","aria-label":(oe=e.unref(s))==null?void 0:oe.openTpOverlay(G.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!u.timePickerInline,dp__time_display_inline:u.timePickerInline,"dp--time-invalid":Q.value(G.type),"dp--time-overlay-btn":!Q.value(G.type)}),disabled:S(G.type),tabindex:"0","data-test":`${G.type}-toggle-overlay-btn-${a.order}`,onKeydown:ce=>e.unref(De)(ce,()=>U(G.type),!0),onClick:ce=>U(G.type)},[u.$slots[G.type]?e.renderSlot(u.$slots,G.type,{key:0,text:z.value(G.type).text,value:z.value(G.type).value}):e.createCommentVNode("",!0),u.$slots[G.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(z.value(G.type).text),1)],64))],42,La),e.createElementVNode("button",{ref_for:!0,ref:ce=>H(ce,c,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!u.timePickerInline,dp__inc_dec_button_inline:u.timePickerInline,dp__tp_inline_btn_bottom:u.timePickerInline,dp__inc_dec_button_disabled:re.value(G.type)}),"data-test":`${G.type}-time-dec-btn-${a.order}`,"aria-label":(fe=e.unref(s))==null?void 0:fe.decrementValue(G.type),tabindex:"0",onKeydown:ce=>e.unref(De)(ce,()=>C(G.type,!1,{keyboard:!0}),!0),onClick:ce=>e.unref(w).timeArrowHoldThreshold?void 0:C(G.type,!1),onMousedown:ce=>e.unref(w).timeArrowHoldThreshold?C(G.type,!1):void 0,onMouseup:T},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Wa,Ua],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[u.$slots["arrow-down"]?e.renderSlot(u.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],64))],42,Ha)],64))],2)}),128)),u.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ja,[u.$slots["am-pm-button"]?e.renderSlot(u.$slots,"am-pm-button",{key:0,toggle:f,value:B.value}):e.createCommentVNode("",!0),u.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:N,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(J=e.unref(s))==null?void 0:J.amPmButton,tabindex:"0",onClick:f,onKeydown:Y[0]||(Y[0]=G=>e.unref(De)(G,()=>f(),!0))},e.toDisplayString(B.value),41,Ka))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(F.value,(G,c)=>(e.openBlock(),e.createBlock(e.Transition,{key:c,name:e.unref(b)(K[G.type]),css:e.unref(R)},{default:e.withCtx(()=>[K[G.type]?(e.openBlock(),e.createBlock(nt,{key:0,items:m(G.type),"is-last":u.autoApply&&!e.unref(w).keepActionRow,"esc-close":u.escClose,type:G.type,"text-input":u.textInput,config:u.config,"arrow-navigation":u.arrowNavigation,"aria-labels":u.ariaLabels,onSelected:x=>ie(G.type,x),onToggle:x=>U(G.type),onResetFlow:Y[1]||(Y[1]=x=>u.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["clock-icon"]?e.renderSlot(u.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.timePickerInline?e.unref(qe):e.unref(wt)),{key:1}))]),_:2},[u.$slots[`${G.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:x})=>[e.renderSlot(u.$slots,`${G.type}-overlay-value`,{text:x.text,value:x.value})]),key:"0"}:void 0,u.$slots[`${G.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${G.type}-overlay-header`,{toggle:()=>U(G.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),qa={class:"dp--tp-wrap"},Ga=["aria-label","tabindex"],Qa=["tabindex"],Xa=["aria-label"],Bn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Re},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMatrix:g,setTimePicker:p}=Le(),s=e.useSlots(),{defaultedTransitions:A,defaultedAriaLabels:P,defaultedTextInput:w,defaultedConfig:h,defaultedRange:b}=ge(a),{transitionName:R,showTransition:K}=et(A),{hideNavigationButtons:B}=ft(),N=e.ref(null),v=e.ref(null),O=e.ref([]),V=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?g([ve(N.value)],"time"):p(!0,a.timePicker)});const Q=e.computed(()=>b.value.enabled&&a.modelAuto?rn(a.internalModelValue):!0),I=e.ref(!1),E=y=>({hours:Array.isArray(a.hours)?a.hours[y]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[y]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[y]:a.seconds}),j=e.computed(()=>{const y=[];if(b.value.enabled)for(let m=0;m<2;m++)y.push(E(m));else y.push(E(0));return y}),k=(y,m=!1,X="")=>{m||r("reset-flow"),I.value=y,r(y?"overlay-opened":"overlay-closed",we.time),a.arrowNavigation&&p(y),e.nextTick(()=>{X!==""&&O.value[0]&&O.value[0].openChildCmp(X)})},re=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!h.value.keepActionRow})),ae=Be(s,"timePicker"),te=(y,m,X)=>b.value.enabled?m===0?[y,j.value[1][X]]:[j.value[0][X],y]:y,_=y=>{r("update:hours",y)},L=y=>{r("update:minutes",y)},F=y=>{r("update:seconds",y)},z=()=>{if(V.value&&!w.value.enabled&&!a.noOverlayFocus){const y=sn(V.value);y&&y.focus({preventScroll:!0})}},$=y=>{r("overlay-closed",y)};return n({toggleTimePicker:k}),(y,m)=>{var X;return e.openBlock(),e.createElementBlock("div",qa,[!y.timePicker&&!y.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:N,type:"button",class:e.normalizeClass(re.value),"aria-label":(X=e.unref(P))==null?void 0:X.openTimePicker,tabindex:y.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:m[0]||(m[0]=ne=>e.unref(De)(ne,()=>k(!0))),onClick:m[1]||(m[1]=ne=>k(!0))},[y.$slots["clock-icon"]?e.renderSlot(y.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],42,Ga)),[[e.vShow,!e.unref(B)(y.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(R)(I.value),css:e.unref(K)&&!y.timePickerInline},{default:e.withCtx(()=>{var ne;return[I.value||y.timePicker||y.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:V,class:e.normalizeClass({dp__overlay:!y.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!y.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(y.timePicker?{height:`${e.unref(h).modeHeight}px`}:void 0),tabindex:y.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(y.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[y.$slots["time-picker-overlay"]?e.renderSlot(y.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:_,setMinutes:L,setSeconds:F}):e.createCommentVNode("",!0),y.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(y.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.value,(M,S)=>e.withDirectives((e.openBlock(),e.createBlock(xa,e.mergeProps({key:S,ref_for:!0},{...y.$props,order:S,hours:M.hours,minutes:M.minutes,seconds:M.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:S===0?y.fixedStart:y.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:O,"validate-time":(U,d)=>t.validateTime(U,te(d,S,U)),"onUpdate:hours":U=>_(te(U,S,"hours")),"onUpdate:minutes":U=>L(te(U,S,"minutes")),"onUpdate:seconds":U=>F(te(U,S,"seconds")),onMounted:z,onOverlayClosed:$,onOverlayOpened:m[2]||(m[2]=U=>y.$emit("overlay-opened",U)),onAmPmChange:m[3]||(m[3]=U=>y.$emit("am-pm-change",U))}),e.createSlots({_:2},[e.renderList(e.unref(ae),(U,d)=>({name:U,fn:e.withCtx(T=>[e.renderSlot(y.$slots,U,e.mergeProps({ref_for:!0},T))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,S===0?!0:Q.value]])),128))],2)),!y.timePicker&&!y.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:e.normalizeClass(re.value),"aria-label":(ne=e.unref(P))==null?void 0:ne.closeTimePicker,tabindex:"0",onKeydown:m[4]||(m[4]=M=>e.unref(De)(M,()=>k(!1))),onClick:m[5]||(m[5]=M=>k(!1))},[y.$slots["calendar-icon"]?e.renderSlot(y.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(qe),{key:1}))],42,Xa)),[[e.vShow,!e.unref(B)(y.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Qa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Tn=(t,n,l,r)=>{const{defaultedRange:a}=ge(t),g=(V,Q)=>Array.isArray(n[V])?n[V][Q]:n[V],p=V=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[V]:n.seconds:0,s=(V,Q)=>V?Q!==void 0?Ie(V,g("hours",Q),g("minutes",Q),p(Q)):Ie(V,n.hours,n.minutes,p()):o.setSeconds(W(),p(Q)),A=(V,Q)=>{n[V]=Q},P=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:a.value.enabled),w=(V,Q)=>{const I=Object.fromEntries(Object.keys(n).map(E=>E===V?[E,Q]:[E,n[E]].slice()));if(P.value&&!a.value.disableTimeRangeValidation){const E=k=>l.value?Ie(l.value[k],I.hours[k],I.minutes[k],I.seconds[k]):null,j=k=>o.setMilliseconds(l.value[k],0);return!(ue(E(0),E(1))&&(o.isAfter(E(0),j(1))||o.isBefore(E(1),j(0))))}return!0},h=(V,Q)=>{w(V,Q)&&(A(V,Q),r&&r())},b=V=>{h("hours",V)},R=V=>{h("minutes",V)},K=V=>{h("seconds",V)},B=(V,Q,I,E)=>{Q&&b(V),!Q&&!I&&R(V),I&&K(V),l.value&&E(l.value)},N=V=>{if(V){const Q=Array.isArray(V),I=Q?[+V[0].hours,+V[1].hours]:+V.hours,E=Q?[+V[0].minutes,+V[1].minutes]:+V.minutes,j=Q?[+V[0].seconds,+V[1].seconds]:+V.seconds;A("hours",I),A("minutes",E),t.enableSeconds&&A("seconds",j)}},v=(V,Q)=>{const I={hours:Array.isArray(n.hours)?n.hours[V]:n.hours,disabledArr:[]};return(Q||Q===0)&&(I.hours=Q),Array.isArray(t.disabledTimes)&&(I.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[V])?t.disabledTimes[V]:t.disabledTimes),I},O=e.computed(()=>(V,Q)=>{var I;if(Array.isArray(t.disabledTimes)){const{disabledArr:E,hours:j}=v(V,Q),k=E.filter(re=>+re.hours===j);return((I=k[0])==null?void 0:I.minutes)==="*"?{hours:[j],minutes:void 0,seconds:void 0}:{hours:[],minutes:(k==null?void 0:k.map(re=>+re.minutes))??[],seconds:(k==null?void 0:k.map(re=>re.seconds?+re.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:A,updateHours:b,updateMinutes:R,updateSeconds:K,getSetDateTime:s,updateTimeValues:B,getSecondsValue:p,assignStartTime:N,validateTime:w,disabledTimesConfig:O}},Ja=(t,n)=>{const{modelValue:l,time:r}=tt(t,n),{defaultedStartTime:a,defaultedRange:g}=ge(t),{updateTimeValues:p,getSetDateTime:s,setTime:A,assignStartTime:P,disabledTimesConfig:w,validateTime:h}=Tn(t,r,l,b);function b(){n("update-flow-step")}const R=I=>{const{hours:E,minutes:j,seconds:k}=I;return{hours:+E,minutes:+j,seconds:k?+k:0}},K=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const E=R(t.startTime[0]),j=R(t.startTime[1]);return[o.set(W(),E),o.set(W(),j)]}const I=R(t.startTime);return o.set(W(),I)}return g.value.enabled?[null,null]:null},B=()=>{if(g.value.enabled){const[I,E]=K();l.value=[s(I,0),s(E,1)]}else l.value=s(K())},N=I=>Array.isArray(I)?[Ke(W(I[0])),Ke(W(I[1]))]:[Ke(I??W())],v=(I,E,j)=>{A("hours",I),A("minutes",E),A("seconds",t.enableSeconds?j:0)},O=()=>{const[I,E]=N(l.value);return g.value.enabled?v([I.hours,E.hours],[I.minutes,E.minutes],[I.seconds,E.seconds]):v(I.hours,I.minutes,I.seconds)};e.onMounted(()=>{if(!t.shadow)return P(a.value),l.value?O():B()});const V=()=>{Array.isArray(l.value)?l.value=l.value.map((I,E)=>I&&s(I,E)):l.value=s(l.value),n("time-update")};return{modelValue:l,time:r,disabledTimesConfig:w,updateTime:(I,E=!0,j=!1)=>{p(I,E,j,V)},validateTime:h}},Za=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Re},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,g=e.useSlots(),p=Be(g,"timePicker"),s=e.ref(null),{time:A,modelValue:P,disabledTimesConfig:w,updateTime:h,validateTime:b}=Ja(a,r);return e.onMounted(()=>{a.shadow||r("mount",null)}),n({getSidebarProps:()=>({modelValue:P,time:A,updateTime:h}),toggleTimePicker:(B,N=!1,v="")=>{var O;(O=s.value)==null||O.toggleTimePicker(B,N,v)}}),(B,N)=>(e.openBlock(),e.createBlock(pt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Bn,e.mergeProps({ref_key:"tpRef",ref:s},B.$props,{hours:e.unref(A).hours,minutes:e.unref(A).minutes,seconds:e.unref(A).seconds,"internal-model-value":B.internalModelValue,"disabled-times-config":e.unref(w),"validate-time":e.unref(b),"onUpdate:hours":N[0]||(N[0]=v=>e.unref(h)(v)),"onUpdate:minutes":N[1]||(N[1]=v=>e.unref(h)(v,!1)),"onUpdate:seconds":N[2]||(N[2]=v=>e.unref(h)(v,!1,!0)),onAmPmChange:N[3]||(N[3]=v=>B.$emit("am-pm-change",v)),onResetFlow:N[4]||(N[4]=v=>B.$emit("reset-flow")),onOverlayClosed:N[5]||(N[5]=v=>B.$emit("overlay-toggle",{open:!1,overlay:v})),onOverlayOpened:N[6]||(N[6]=v=>B.$emit("overlay-toggle",{open:!0,overlay:v}))}),e.createSlots({_:2},[e.renderList(e.unref(p),(v,O)=>({name:v,fn:e.withCtx(V=>[e.renderSlot(B.$slots,v,e.normalizeProps(e.guardReactiveProps(V)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Fa={class:"dp--header-wrap"},er={key:0,class:"dp__month_year_wrap"},tr={key:0},nr={class:"dp__month_year_wrap"},ar=["aria-label","data-test","onClick","onKeydown"],rr=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Re},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTransitions:g,defaultedAriaLabels:p,defaultedMultiCalendars:s,defaultedFilters:A,defaultedConfig:P,defaultedHighlight:w,propDates:h}=ge(a),{transitionName:b,showTransition:R}=et(g),{buildMatrix:K}=Le(),{handleMonthYearChange:B,isDisabled:N,updateMonthYear:v}=ma(a,r),{showLeftIcon:O,showRightIcon:V}=ft(),Q=e.ref(!1),I=e.ref(!1),E=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const j=M=>({get:()=>a[M],set:S=>{const U=M===Ae.month?Ae.year:Ae.month;r("update-month-year",{[M]:S,[U]:a[U]}),M===Ae.month?z(!0):$(!0)}}),k=e.computed(j(Ae.month)),re=e.computed(j(Ae.year)),ae=e.computed(()=>M=>({month:a.month,year:a.year,items:M===Ae.month?a.months:a.years,instance:a.instance,updateMonthYear:v,toggle:M===Ae.month?z:$})),te=e.computed(()=>{const M=a.months.find(S=>S.value===a.month);return M||{text:"",value:0}}),_=e.computed(()=>Ge(a.months,M=>{const S=a.month===M.value,U=Ze(M.value,dn(a.year,h.value.minDate),fn(a.year,h.value.maxDate))||A.value.months.includes(M.value),d=kn(w.value,M.value,a.year);return{active:S,disabled:U,highlighted:d}})),L=e.computed(()=>Ge(a.years,M=>{const S=a.year===M.value,U=Ze(M.value,Qe(h.value.minDate),Qe(h.value.maxDate))||A.value.years.includes(M.value),d=_t(w.value,M.value);return{active:S,disabled:U,highlighted:d}})),F=(M,S,U)=>{U!==void 0?M.value=U:M.value=!M.value,M.value?r("overlay-opened",S):r("overlay-closed",S)},z=(M=!1,S)=>{y(M),F(Q,we.month,S)},$=(M=!1,S)=>{y(M),F(I,we.year,S)},y=M=>{M||r("reset-flow")},m=(M,S)=>{a.arrowNavigation&&(E.value[S]=ve(M),K(E.value,"monthYear"))},X=e.computed(()=>{var M,S;return[{type:Ae.month,index:1,toggle:z,modelValue:k.value,updateModelValue:U=>k.value=U,text:te.value.text,showSelectionGrid:Q.value,items:_.value,ariaLabel:(M=p.value)==null?void 0:M.openMonthsOverlay},{type:Ae.year,index:2,toggle:$,modelValue:re.value,updateModelValue:U=>re.value=U,text:un(a.year,a.locale),showSelectionGrid:I.value,items:L.value,ariaLabel:(S=p.value)==null?void 0:S.openYearsOverlay}]}),ne=e.computed(()=>a.disableYearSelect?[X.value[0]]:a.yearFirst?[...X.value].reverse():X.value);return n({toggleMonthPicker:z,toggleYearPicker:$,handleMonthYearChange:B}),(M,S)=>{var U,d,T;return e.openBlock(),e.createElementBlock("div",Fa,[M.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",er,[e.renderSlot(M.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(v),handleMonthYearChange:e.unref(B),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[M.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",tr,[e.renderSlot(M.$slots,"top-extra",{value:M.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",nr,[e.unref(O)(e.unref(s),t.instance)&&!M.vertical?(e.openBlock(),e.createBlock(at,{key:0,"aria-label":(U=e.unref(p))==null?void 0:U.prevMonth,disabled:e.unref(N)(!1),onActivate:S[0]||(S[0]=C=>e.unref(B)(!1,!0)),onSetRef:S[1]||(S[1]=C=>m(C,0))},{default:e.withCtx(()=>[M.$slots["arrow-left"]?e.renderSlot(M.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),M.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:M.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ne.value,(C,le)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:C.type},[e.createElementVNode("button",{ref_for:!0,ref:f=>m(f,le+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":C.ariaLabel,"data-test":`${C.type}-toggle-overlay-${t.instance}`,onClick:C.toggle,onKeydown:f=>e.unref(De)(f,()=>C.toggle(),!0)},[M.$slots[C.type]?e.renderSlot(M.$slots,C.type,{key:0,text:C.text,value:a[C.type]}):e.createCommentVNode("",!0),M.$slots[C.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(C.text),1)],64))],40,ar),e.createVNode(e.Transition,{name:e.unref(b)(C.showSelectionGrid),css:e.unref(R)},{default:e.withCtx(()=>[C.showSelectionGrid?(e.openBlock(),e.createBlock(nt,{key:0,items:C.items,"arrow-navigation":M.arrowNavigation,"hide-navigation":M.hideNavigation,"is-last":M.autoApply&&!e.unref(P).keepActionRow,"skip-button-ref":!1,config:M.config,type:C.type,"header-refs":[],"esc-close":M.escClose,"menu-wrap-ref":M.menuWrapRef,"text-input":M.textInput,"aria-labels":M.ariaLabels,onSelected:C.updateModelValue,onToggle:C.toggle},e.createSlots({"button-icon":e.withCtx(()=>[M.$slots["calendar-icon"]?e.renderSlot(M.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),M.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(qe),{key:1}))]),_:2},[M.$slots[`${C.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:f})=>[e.renderSlot(M.$slots,`${C.type}-overlay-value`,{text:f.text,value:f.value})]),key:"0"}:void 0,M.$slots[`${C.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(M.$slots,`${C.type}-overlay`,e.mergeProps({ref_for:!0},ae.value(C.type)))]),key:"1"}:void 0,M.$slots[`${C.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(M.$slots,`${C.type}-overlay-header`,{toggle:C.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(O)(e.unref(s),t.instance)&&M.vertical?(e.openBlock(),e.createBlock(at,{key:1,"aria-label":(d=e.unref(p))==null?void 0:d.prevMonth,disabled:e.unref(N)(!1),onActivate:S[2]||(S[2]=C=>e.unref(B)(!1,!0))},{default:e.withCtx(()=>[M.$slots["arrow-up"]?e.renderSlot(M.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),M.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(V)(e.unref(s),t.instance)?(e.openBlock(),e.createBlock(at,{key:2,ref:"rightIcon",disabled:e.unref(N)(!0),"aria-label":(T=e.unref(p))==null?void 0:T.nextMonth,onActivate:S[3]||(S[3]=C=>e.unref(B)(!0,!0)),onSetRef:S[4]||(S[4]=C=>m(C,M.disableYearSelect?2:3))},{default:e.withCtx(()=>[M.$slots[M.vertical?"arrow-down":"arrow-right"]?e.renderSlot(M.$slots,M.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),M.$slots[M.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(M.vertical?e.unref(St):e.unref(vt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)])],64))])}}}),lr=["aria-label"],or={class:"dp__calendar_header",role:"row"},sr={key:0,class:"dp__calendar_header_item",role:"gridcell"},ir=["aria-label"],ur=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),cr=["aria-label"],dr={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},fr={class:"dp__cell_inner"},mr=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],pr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Re},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMultiLevelMatrix:g}=Le(),{defaultedTransitions:p,defaultedConfig:s,defaultedAriaLabels:A,defaultedMultiCalendars:P,defaultedWeekNumbers:w,defaultedMultiDates:h}=ge(a),b=e.ref(null),R=e.ref({bottom:"",left:"",transform:""}),K=e.ref([]),B=e.ref(null),N=e.ref(!0),v=e.ref(""),O=e.ref({startX:0,endX:0,startY:0,endY:0}),V=e.ref([]),Q=e.ref({left:"50%"}),I=e.ref(!1),E=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),j=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Vn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:K}),s.value.noSwipe||B.value&&(B.value.addEventListener("touchstart",X,{passive:!1}),B.value.addEventListener("touchend",ne,{passive:!1}),B.value.addEventListener("touchmove",M,{passive:!1})),a.monthChangeOnScroll&&B.value&&B.value.addEventListener("wheel",d,{passive:!1})});const k=H=>H?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",re=(H,ie)=>{if(a.transitions){const u=Ce(Ye(W(),a.month,a.year));v.value=he(Ce(Ye(W(),H,ie)),u)?p.value[k(!0)]:p.value[k(!1)],N.value=!1,e.nextTick(()=>{N.value=!0})}},ae=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),te=e.computed(()=>H=>{const ie=On(H);return{dp__marker_dot:ie.type==="dot",dp__marker_line:ie.type==="line"}}),_=e.computed(()=>H=>ue(H,b.value)),L=e.computed(()=>({dp__calendar:!0,dp__calendar_next:P.value.count>0&&a.instance!==0})),F=e.computed(()=>H=>a.hideOffsetDates?H.current:!0),z=H=>o.format(H,"yyyy-MM-dd"),$=async(H,ie,u)=>{const Y=ve(K.value[ie][u]);if(Y){const{width:J,height:G}=Y.getBoundingClientRect();b.value=H.value;let c={left:`${J/2}px`},x=-50;if(await e.nextTick(),V.value[0]){const{left:oe,width:fe}=V.value[0].getBoundingClientRect();oe<0&&(c={left:"0"},x=0,Q.value.left=`${J/2}px`),window.innerWidth<oe+fe&&(c={right:"0"},x=0,Q.value.left=`${fe-J/2}px`)}R.value={bottom:`${G}px`,...c,transform:`translateX(${x}%)`},r("tooltip-open",H.marker)}},y=async(H,ie,u)=>{var Y,J;if(I.value&&h.value.enabled&&h.value.dragSelect)return r("select-date",H);r("set-hover-date",H),(J=(Y=H.marker)==null?void 0:Y.tooltip)!=null&&J.length&&await $(H,ie,u)},m=H=>{b.value&&(b.value=null,R.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",H.marker))},X=H=>{O.value.startX=H.changedTouches[0].screenX,O.value.startY=H.changedTouches[0].screenY},ne=H=>{O.value.endX=H.changedTouches[0].screenX,O.value.endY=H.changedTouches[0].screenY,S()},M=H=>{a.vertical&&!a.inline&&H.preventDefault()},S=()=>{const H=a.vertical?"Y":"X";Math.abs(O.value[`start${H}`]-O.value[`end${H}`])>10&&r("handle-swipe",O.value[`start${H}`]>O.value[`end${H}`]?"right":"left")},U=(H,ie,u)=>{H&&(Array.isArray(K.value[ie])?K.value[ie][u]=H:K.value[ie]=[H]),a.arrowNavigation&&g(K.value,"calendar")},d=H=>{a.monthChangeOnScroll&&(H.preventDefault(),r("handle-scroll",H))},T=H=>w.value.type==="local"?o.getWeek(H.value,{weekStartsOn:+a.weekStart}):w.value.type==="iso"?o.getISOWeek(H.value):typeof w.value.type=="function"?w.value.type(H.value):"",C=H=>{const ie=H[0];return w.value.hideOnOffsetDates?H.some(u=>u.current)?T(ie):"":T(ie)},le=(H,ie)=>{h.value.enabled||(Oe(H,s.value),r("select-date",ie))},f=H=>{Oe(H,s.value)},Z=H=>{h.value.enabled&&h.value.dragSelect?(I.value=!0,r("select-date",H)):h.value.enabled&&r("select-date",H)};return n({triggerTransition:re}),(H,ie)=>{var u;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(L.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:B,role:"grid",class:e.normalizeClass(ae.value),"aria-label":(u=e.unref(A))==null?void 0:u.calendarWrap},[e.createElementVNode("div",or,[H.weekNumbers?(e.openBlock(),e.createElementBlock("div",sr,e.toDisplayString(H.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.value,(Y,J)=>{var G,c;return e.openBlock(),e.createElementBlock("div",{key:J,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(c=(G=e.unref(A))==null?void 0:G.weekDay)==null?void 0:c.call(G,J)},[H.$slots["calendar-header"]?e.renderSlot(H.$slots,"calendar-header",{key:0,day:Y,index:J}):e.createCommentVNode("",!0),H.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Y),1)],64))],8,ir)}),128))]),ur,e.createVNode(e.Transition,{name:v.value,css:!!H.transitions},{default:e.withCtx(()=>{var Y;return[N.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Y=e.unref(A))==null?void 0:Y.calendarDays)||void 0,onMouseleave:ie[1]||(ie[1]=J=>I.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.value,(J,G)=>(e.openBlock(),e.createElementBlock("div",{key:G,class:"dp__calendar_row",role:"row"},[H.weekNumbers?(e.openBlock(),e.createElementBlock("div",dr,[e.createElementVNode("div",fr,e.toDisplayString(C(J.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(J.days,(c,x)=>{var oe,fe,ce;return e.openBlock(),e.createElementBlock("div",{id:z(c.value),ref_for:!0,ref:ee=>U(ee,G,x),key:x+G,role:"gridcell",class:"dp__calendar_item","aria-selected":(c.classData.dp__active_date||c.classData.dp__range_start||c.classData.dp__range_start)??void 0,"aria-disabled":c.classData.dp__cell_disabled||void 0,"aria-label":(fe=(oe=e.unref(A))==null?void 0:oe.day)==null?void 0:fe.call(oe,c),tabindex:"0","data-test":c.value,onClick:e.withModifiers(ee=>le(ee,c),["prevent"]),onKeydown:ee=>e.unref(De)(ee,()=>H.$emit("select-date",c)),onMouseenter:ee=>y(c,G,x),onMouseleave:ee=>m(c),onMousedown:ee=>Z(c),onMouseup:ie[0]||(ie[0]=ee=>I.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",c.classData])},[H.$slots.day&&F.value(c)?e.renderSlot(H.$slots,"day",{key:0,day:+c.text,date:c.value}):e.createCommentVNode("",!0),H.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(c.text),1)],64)),c.marker&&F.value(c)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[H.$slots.marker?e.renderSlot(H.$slots,"marker",{key:0,marker:c.marker,day:+c.text,date:c.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(te.value(c.marker)),style:e.normalizeStyle(c.marker.color?{backgroundColor:c.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),_.value(c.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:V,class:"dp__marker_tooltip",style:e.normalizeStyle(R.value)},[(ce=c.marker)!=null&&ce.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:f},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.marker.tooltip,(ee,_e)=>(e.openBlock(),e.createElementBlock("div",{key:_e,class:"dp__tooltip_text"},[H.$slots["marker-tooltip"]?e.renderSlot(H.$slots,"marker-tooltip",{key:0,tooltip:ee,day:c.value}):e.createCommentVNode("",!0),H.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(ee.color?{backgroundColor:ee.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(ee.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(Q.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,mr)}),128))]))),128))],40,cr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,lr)],2)}}}),$n=t=>Array.isArray(t),gr=(t,n,l,r)=>{const a=e.ref([]),g=e.ref(new Date),p=e.ref(),{modelValue:s,calendars:A,time:P,today:w}=tt(t,n),{defaultedMultiCalendars:h,defaultedStartTime:b,defaultedRange:R,defaultedConfig:K,defaultedTz:B,propDates:N,defaultedMultiDates:v}=ge(t),{validateMonthYearInRange:O,isDisabled:V,isDateRangeAllowed:Q,checkMinMaxRange:I}=We(t),{updateTimeValues:E,getSetDateTime:j,setTime:k,assignStartTime:re,validateTime:ae,disabledTimesConfig:te}=Tn(t,P,s,r),_=e.computed(()=>i=>A.value[i]?A.value[i].month:0),L=e.computed(()=>i=>A.value[i]?A.value[i].year:0),F=i=>!K.value.keepViewOnOffsetClick||i?!0:!p.value,z=(i,D,q,se=!1)=>{var de,$e;F(se)&&(A.value[i]||(A.value[i]={month:0,year:0}),A.value[i].month=on(D)?(de=A.value[i])==null?void 0:de.month:D,A.value[i].year=on(q)?($e=A.value[i])==null?void 0:$e.year:q)},$=()=>{t.autoApply&&n("select-date")};e.watch(s,(i,D)=>{JSON.stringify(i)!==JSON.stringify(D)&&X()},{deep:!0}),e.onMounted(()=>{t.shadow||(s.value||(H(),b.value&&re(b.value)),X(!0),t.focusStartDate&&t.startDate&&H())});const y=e.computed(()=>{var i;return(i=t.flow)!=null&&i.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),m=()=>{t.autoApply&&y.value&&n("auto-apply")},X=(i=!1)=>{if(s.value)return Array.isArray(s.value)?(a.value=s.value,C(i)):S(s.value,i);if(h.value.count&&i&&!t.startDate)return M(W(),i)},ne=()=>Array.isArray(s.value)&&R.value.enabled?o.getMonth(s.value[0])===o.getMonth(s.value[1]??s.value[0]):!1,M=(i,D=!1)=>{if((!h.value.count||!h.value.static||D)&&z(0,o.getMonth(i),o.getYear(i)),h.value.count&&(!h.value.solo||!s.value||ne()))for(let q=1;q<h.value.count;q++){const se=o.set(W(),{month:_.value(q-1),year:L.value(q-1)}),de=o.add(se,{months:1});A.value[q]={month:o.getMonth(de),year:o.getYear(de)}}},S=(i,D)=>{M(i),k("hours",o.getHours(i)),k("minutes",o.getMinutes(i)),k("seconds",o.getSeconds(i)),h.value.count&&D&&Z()},U=i=>{if(h.value.count){if(h.value.solo)return 0;const D=o.getMonth(i[0]),q=o.getMonth(i[1]);return Math.abs(q-D)<h.value.count?0:1}return 1},d=(i,D)=>{i[1]&&R.value.showLastInRange?M(i[U(i)],D):M(i[0],D);const q=(se,de)=>[se(i[0]),i[1]?se(i[1]):P[de][1]];k("hours",q(o.getHours,"hours")),k("minutes",q(o.getMinutes,"minutes")),k("seconds",q(o.getSeconds,"seconds"))},T=(i,D)=>{if((R.value.enabled||t.weekPicker)&&!v.value.enabled)return d(i,D);if(v.value.enabled&&D){const q=i[i.length-1];return S(q,D)}},C=i=>{const D=s.value;T(D,i),h.value.count&&h.value.solo&&Z()},le=(i,D)=>{const q=o.set(W(),{month:_.value(D),year:L.value(D)}),se=i<0?o.addMonths(q,1):o.subMonths(q,1);O(o.getMonth(se),o.getYear(se),i<0,t.preventMinMaxNavigation)&&(z(D,o.getMonth(se),o.getYear(se)),n("update-month-year",{instance:D,month:o.getMonth(se),year:o.getYear(se)}),h.value.count&&!h.value.solo&&f(D),l())},f=i=>{for(let D=i-1;D>=0;D--){const q=o.subMonths(o.set(W(),{month:_.value(D+1),year:L.value(D+1)}),1);z(D,o.getMonth(q),o.getYear(q))}for(let D=i+1;D<=h.value.count-1;D++){const q=o.addMonths(o.set(W(),{month:_.value(D-1),year:L.value(D-1)}),1);z(D,o.getMonth(q),o.getYear(q))}},Z=()=>{if(Array.isArray(s.value)&&s.value.length===2){const i=W(W(s.value[1]?s.value[1]:o.addMonths(s.value[0],1))),[D,q]=[o.getMonth(s.value[0]),o.getYear(s.value[0])],[se,de]=[o.getMonth(s.value[1]),o.getYear(s.value[1])];(D!==se||D===se&&q!==de)&&h.value.solo&&z(1,o.getMonth(i),o.getYear(i))}else s.value&&!Array.isArray(s.value)&&(z(0,o.getMonth(s.value),o.getYear(s.value)),M(W()))},H=()=>{t.startDate&&(z(0,o.getMonth(W(t.startDate)),o.getYear(W(t.startDate))),h.value.count&&f(0))},ie=(i,D)=>{if(t.monthChangeOnScroll){const q=new Date().getTime()-g.value.getTime(),se=Math.abs(i.deltaY);let de=500;se>1&&(de=100),se>100&&(de=0),q>de&&(g.value=new Date,le(t.monthChangeOnScroll!=="inverse"?-i.deltaY:i.deltaY,D))}},u=(i,D,q=!1)=>{t.monthChangeOnArrows&&t.vertical===q&&Y(i,D)},Y=(i,D)=>{le(i==="right"?-1:1,D)},J=i=>{if(N.value.markers)return it(i.value,N.value.markers)},G=(i,D)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[i==0,!0];case"fair":return[i==0||D>i,!0];case"append":return[!1,!1];default:return[!1,!1]}},c=(i,D,q,se)=>{if(t.sixWeeks&&i.length<6){const de=6-i.length,$e=(D.getDay()+7-se)%7,ht=6-(q.getDay()+7-se)%7,[st,Zt]=G($e,ht);for(let xe=1;xe<=de;xe++)if(Zt?!!(xe%2)==st:st){const kt=i[0].days[0],Ft=x(o.addDays(kt.value,-7),o.getMonth(D));i.unshift({days:Ft})}else{const kt=i[i.length-1],Ft=kt.days[kt.days.length-1],_r=x(o.addDays(Ft.value,1),o.getMonth(D));i.push({days:_r})}}return i},x=(i,D)=>{const q=W(i),se=[];for(let de=0;de<7;de++){const $e=o.addDays(q,de),ot=o.getMonth($e)!==D;se.push({text:t.hideOffsetDates&&ot?"":$e.getDate(),value:$e,current:!ot,classData:{}})}return se},oe=(i,D)=>{const q=[],se=new Date(D,i),de=new Date(D,i+1,0),$e=t.weekStart,ot=o.startOfWeek(se,{weekStartsOn:$e}),ht=st=>{const Zt=x(st,i);if(q.push({days:Zt}),!q[q.length-1].days.some(xe=>ue(Ce(xe.value),Ce(de)))){const xe=o.addDays(st,7);ht(xe)}};return ht(ot),c(q,se,de,$e)},fe=i=>{const D=Ie(W(i.value),P.hours,P.minutes,Te());n("date-update",D),v.value.enabled?Lt(D,s,v.value.limit):s.value=D,r(),e.nextTick().then(()=>{m()})},ce=i=>R.value.noDisabledRange?mn(a.value[0],i).some(q=>V(q)):!1,ee=()=>{a.value=s.value?s.value.slice():[],a.value.length===2&&!(R.value.fixedStart||R.value.fixedEnd)&&(a.value=[])},_e=(i,D)=>{const q=[W(i.value),o.addDays(W(i.value),+R.value.autoRange)];Q(q)?(D&&Ne(i.value),a.value=q):n("invalid-date",i.value)},Ne=i=>{const D=o.getMonth(W(i)),q=o.getYear(W(i));if(z(0,D,q),h.value.count>0)for(let se=1;se<h.value.count;se++){const de=Kn(o.set(W(i),{year:_.value(se-1),month:L.value(se-1)}));z(se,de.month,de.year)}},jt=i=>{if(ce(i.value)||!I(i.value,s.value,R.value.fixedStart?0:1))return n("invalid-date",i.value);a.value=Dn(W(i.value),s,n,R)},rt=(i,D)=>{if(ee(),R.value.autoRange)return _e(i,D);if(R.value.fixedStart||R.value.fixedEnd)return jt(i);a.value[0]?I(W(i.value),s.value)&&!ce(i.value)?ye(W(i.value),W(a.value[0]))?(a.value.unshift(W(i.value)),n("range-end",a.value[0])):(a.value[1]=W(i.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",i.value),n("invalid-date",i.value)):(a.value[0]=W(i.value),n("range-start",a.value[0]))},Te=(i=!0)=>t.enableSeconds?Array.isArray(P.seconds)?i?P.seconds[0]:P.seconds[1]:P.seconds:0,lt=i=>{a.value[i]=Ie(a.value[i],P.hours[i],P.minutes[i],Te(i!==1))},Kt=()=>{var i,D;a.value[0]&&a.value[1]&&+((i=a.value)==null?void 0:i[0])>+((D=a.value)==null?void 0:D[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},yt=()=>{a.value.length&&(a.value[0]&&!a.value[1]?lt(0):(lt(0),lt(1),r()),Kt(),s.value=a.value.slice(),gt(a.value,n,t.autoApply,t.modelAuto))},xt=(i,D=!1)=>{if(V(i.value)||!i.current&&t.hideOffsetDates)return n("invalid-date",i.value);if(p.value=JSON.parse(JSON.stringify(i)),!R.value.enabled)return fe(i);$n(P.hours)&&$n(P.minutes)&&!v.value.enabled&&(rt(i,D),yt())},qt=(i,D)=>{var se;z(i,D.month,D.year,!0),h.value.count&&!h.value.solo&&f(i),n("update-month-year",{instance:i,month:D.month,year:D.year}),l(h.value.solo?i:void 0);const q=(se=t.flow)!=null&&se.length?t.flow[t.flowStep]:void 0;!D.fromNav&&(q===we.month||q===we.year)&&r()},Gt=(i,D)=>{Sn({value:i,modelValue:s,range:R.value.enabled,timezone:D?void 0:B.value.timezone}),$(),t.multiCalendars&&e.nextTick().then(()=>X(!0))},Qt=()=>{R.value.enabled?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=ye(W(),s.value[0])?[W(),s.value[0]]:[s.value[0],W()]:s.value=[W()]:s.value=W(),$()},Xt=()=>{if(Array.isArray(s.value))if(v.value.enabled){const i=Jt();s.value[s.value.length-1]=j(i)}else s.value=s.value.map((i,D)=>i&&j(i,D));else s.value=j(s.value);n("time-update")},Jt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:A,modelValue:s,month:_,year:L,time:P,disabledTimesConfig:te,today:w,validateTime:ae,getCalendarDays:oe,getMarker:J,handleScroll:ie,handleSwipe:Y,handleArrow:u,selectDate:xt,updateMonthYear:qt,presetDate:Gt,selectCurrentDate:Qt,updateTime:(i,D=!0,q=!1)=>{E(i,D,q,Xt)}}},yr={key:0},hr=e.defineComponent({__name:"DatePicker",props:{...Re},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,{calendars:g,month:p,year:s,modelValue:A,time:P,disabledTimesConfig:w,today:h,validateTime:b,getCalendarDays:R,getMarker:K,handleArrow:B,handleScroll:N,handleSwipe:v,selectDate:O,updateMonthYear:V,presetDate:Q,selectCurrentDate:I,updateTime:E}=gr(a,r,ne,M),j=e.useSlots(),{setHoverDate:k,getDayClassData:re,clearHoverDate:ae}=ha(A,a),{defaultedMultiCalendars:te}=ge(a),_=e.ref([]),L=e.ref([]),F=e.ref(null),z=Be(j,"calendar"),$=Be(j,"monthYear"),y=Be(j,"timePicker"),m=u=>{a.shadow||r("mount",u)};e.watch(g,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const X=e.computed(()=>u=>R(p.value(u),s.value(u)).map(Y=>({...Y,days:Y.days.map(J=>(J.marker=K(J),J.classData=re(J),J))})));function ne(u){var Y;u||u===0?(Y=L.value[u])==null||Y.triggerTransition(p.value(u),s.value(u)):L.value.forEach((J,G)=>J.triggerTransition(p.value(G),s.value(G)))}function M(){r("update-flow-step")}const S=(u,Y=!1)=>{O(u,Y),a.spaceConfirm&&r("select-date")},U=(u,Y,J=0)=>{var G;(G=_.value[J])==null||G.toggleMonthPicker(u,Y)},d=(u,Y,J=0)=>{var G;(G=_.value[J])==null||G.toggleYearPicker(u,Y)},T=(u,Y,J)=>{var G;(G=F.value)==null||G.toggleTimePicker(u,Y,J)},C=u=>{if(!a.range){const Y=A.value?A.value:h,J=u?o.startOfWeek(Y,{weekStartsOn:1}):o.endOfWeek(Y,{weekStartsOn:1});O({value:J,current:o.getMonth(Y)===p.value(0),text:"",classData:{}})}},le=u=>{var Y;(Y=_.value[0])==null||Y.handleMonthYearChange(u,!0)},f=u=>{V(0,{month:p.value(0),year:s.value(0)+(u?1:-1),fromNav:!0})},Z=(u,Y)=>{u===we.time&&r(`time-picker-${Y?"open":"close"}`),r("overlay-toggle",{open:Y,overlay:u})},H=u=>{r("overlay-toggle",{open:!1,overlay:u}),r("focus-menu")};return n({clearHoverDate:ae,presetDate:Q,selectCurrentDate:I,toggleMonthPicker:U,toggleYearPicker:d,toggleTimePicker:T,handleArrow:B,updateMonthYear:V,getSidebarProps:()=>({modelValue:A,month:p,year:s,time:P,updateTime:E,updateMonthYear:V,selectDate:O,presetDate:Q}),changeMonth:le,changeYear:f,selectWeekDate:C}),(u,Y)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(pt,{"multi-calendars":e.unref(te).count,collapse:u.collapse},{default:e.withCtx(({instance:J,index:G})=>[u.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(rr,e.mergeProps({key:0,ref:c=>{c&&(_.value[G]=c)},months:e.unref(an)(u.formatLocale,u.locale,u.monthNameFormat),years:e.unref(Ct)(u.yearRange,u.locale,u.reverseYears),month:e.unref(p)(J),year:e.unref(s)(J),instance:J},u.$props,{onMount:Y[0]||(Y[0]=c=>m(e.unref(je).header)),onResetFlow:Y[1]||(Y[1]=c=>u.$emit("reset-flow")),onUpdateMonthYear:c=>e.unref(V)(J,c),onOverlayClosed:H,onOverlayOpened:Y[2]||(Y[2]=c=>u.$emit("overlay-toggle",{open:!0,overlay:c}))}),e.createSlots({_:2},[e.renderList(e.unref($),(c,x)=>({name:c,fn:e.withCtx(oe=>[e.renderSlot(u.$slots,c,e.normalizeProps(e.guardReactiveProps(oe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(pr,e.mergeProps({ref:c=>{c&&(L.value[G]=c)},"mapped-dates":X.value(J),month:e.unref(p)(J),year:e.unref(s)(J),instance:J},u.$props,{onSelectDate:c=>e.unref(O)(c,J!==1),onHandleSpace:c=>S(c,J!==1),onSetHoverDate:Y[3]||(Y[3]=c=>e.unref(k)(c)),onHandleScroll:c=>e.unref(N)(c,J),onHandleSwipe:c=>e.unref(v)(c,J),onMount:Y[4]||(Y[4]=c=>m(e.unref(je).calendar)),onResetFlow:Y[5]||(Y[5]=c=>u.$emit("reset-flow")),onTooltipOpen:Y[6]||(Y[6]=c=>u.$emit("tooltip-open",c)),onTooltipClose:Y[7]||(Y[7]=c=>u.$emit("tooltip-close",c))}),e.createSlots({_:2},[e.renderList(e.unref(z),(c,x)=>({name:c,fn:e.withCtx(oe=>[e.renderSlot(u.$slots,c,e.normalizeProps(e.guardReactiveProps({...oe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),u.enableTimePicker?(e.openBlock(),e.createElementBlock("div",yr,[u.$slots["time-picker"]?e.renderSlot(u.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(P),updateTime:e.unref(E)}))):(e.openBlock(),e.createBlock(Bn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:F},u.$props,{hours:e.unref(P).hours,minutes:e.unref(P).minutes,seconds:e.unref(P).seconds,"internal-model-value":u.internalModelValue,"disabled-times-config":e.unref(w),"validate-time":e.unref(b),onMount:Y[8]||(Y[8]=J=>m(e.unref(je).timePicker)),"onUpdate:hours":Y[9]||(Y[9]=J=>e.unref(E)(J)),"onUpdate:minutes":Y[10]||(Y[10]=J=>e.unref(E)(J,!1)),"onUpdate:seconds":Y[11]||(Y[11]=J=>e.unref(E)(J,!1,!0)),onResetFlow:Y[12]||(Y[12]=J=>u.$emit("reset-flow")),onOverlayClosed:Y[13]||(Y[13]=J=>Z(J,!1)),onOverlayOpened:Y[14]||(Y[14]=J=>Z(J,!0)),onAmPmChange:Y[15]||(Y[15]=J=>u.$emit("am-pm-change",J))}),e.createSlots({_:2},[e.renderList(e.unref(y),(J,G)=>({name:J,fn:e.withCtx(c=>[e.renderSlot(u.$slots,J,e.normalizeProps(e.guardReactiveProps(c)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),kr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:g,defaultedRange:p,propDates:s,defaultedFilters:A,defaultedMultiDates:P}=ge(t),{modelValue:w,year:h,month:b,calendars:R}=tt(t,n),{isDisabled:K}=We(t),{selectYear:B,groupedYears:N,showYearPicker:v,isDisabled:O,toggleYearPicker:V,handleYearSelect:Q,handleYear:I}=Cn({modelValue:w,multiCalendars:r,highlight:g,calendars:R,propDates:s,month:b,year:h,filters:A,props:t,emit:n}),E=(y,m)=>[y,m].map(X=>o.format(X,"MMMM",{locale:t.formatLocale})).join("-"),j=e.computed(()=>y=>w.value?Array.isArray(w.value)?w.value.some(m=>o.isSameQuarter(y,m)):o.isSameQuarter(w.value,y):!1),k=y=>{if(p.value.enabled){if(Array.isArray(w.value)){const m=ue(y,w.value[0])||ue(y,w.value[1]);return ut(w.value,l.value,y)&&!m}return!1}return!1},re=(y,m)=>y.quarter===o.getQuarter(m)&&y.year===o.getYear(m),ae=y=>typeof g.value=="function"?g.value({quarter:o.getQuarter(y),year:o.getYear(y)}):!!g.value.quarters.find(m=>re(m,y)),te=e.computed(()=>y=>{const m=o.set(new Date,{year:h.value(y)});return o.eachQuarterOfInterval({start:o.startOfYear(m),end:o.endOfYear(m)}).map(X=>{const ne=o.startOfQuarter(X),M=o.endOfQuarter(X),S=K(X),U=k(ne),d=ae(ne);return{text:E(ne,M),value:ne,active:j.value(ne),highlighted:d,disabled:S,isBetween:U}})}),_=y=>{Lt(y,w,P.value.limit),n("auto-apply",!0)},L=y=>{w.value=Ht(w,y,n),gt(w.value,n,t.autoApply,t.modelAuto)},F=y=>{w.value=y,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:N,year:h,isDisabled:O,quarters:te,showYearPicker:v,modelValue:w,setHoverDate:y=>{l.value=y},selectYear:B,selectQuarter:(y,m,X)=>{if(!X)return R.value[m].month=o.getMonth(o.endOfQuarter(y)),P.value.enabled?_(y):p.value.enabled?L(y):F(y)},toggleYearPicker:V,handleYearSelect:Q,handleYear:I}},br={class:"dp--quarter-items"},vr=["data-test","disabled","onClick","onMouseover"],wr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Re},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const r=l,a=t,g=e.useSlots(),p=Be(g,"yearMode"),{defaultedMultiCalendars:s,defaultedConfig:A,groupedYears:P,year:w,isDisabled:h,quarters:b,modelValue:R,showYearPicker:K,setHoverDate:B,selectQuarter:N,toggleYearPicker:v,handleYearSelect:O,handleYear:V}=kr(a,r);return n({getSidebarProps:()=>({modelValue:R,year:w,selectQuarter:N,handleYearSelect:O,handleYear:V})}),(I,E)=>(e.openBlock(),e.createBlock(pt,{"multi-calendars":e.unref(s).count,collapse:I.collapse,stretch:""},{default:e.withCtx(({instance:j})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(A).modeHeight}px`})},[I.$slots["top-extra"]?e.renderSlot(I.$slots,"top-extra",{key:0,value:I.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Mn,e.mergeProps(I.$props,{items:e.unref(P)(j),instance:j,"show-year-picker":e.unref(K)[j],year:e.unref(w)(j),"is-disabled":k=>e.unref(h)(j,k),onHandleYear:k=>e.unref(V)(j,k),onYearSelect:k=>e.unref(O)(k,j),onToggleYearPicker:k=>e.unref(v)(j,k==null?void 0:k.flow,k==null?void 0:k.show)}),e.createSlots({_:2},[e.renderList(e.unref(p),(k,re)=>({name:k,fn:e.withCtx(ae=>[e.renderSlot(I.$slots,k,e.normalizeProps(e.guardReactiveProps(ae)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",br,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(b)(j),(k,re)=>(e.openBlock(),e.createElementBlock("div",{key:re},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":k.active,"dp--qr-btn-between":k.isBetween,"dp--qr-btn-disabled":k.disabled,"dp--highlighted":k.highlighted}]),"data-test":k.value,disabled:k.disabled,onClick:ae=>e.unref(N)(k.value,j,k.disabled),onMouseover:ae=>e.unref(B)(k.value)},[I.$slots.quarter?e.renderSlot(I.$slots,"quarter",{key:0,value:k.value,text:k.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(k.text),1)],64))],42,vr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),Mr=["id","aria-label"],Sr={key:0,class:"dp--menu-load-container"},Dr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],Cr={key:0,class:"dp__sidebar_left"},Br=["data-test","onClick","onKeydown"],Tr={key:2,class:"dp__sidebar_right"},$r={key:3,class:"dp__action_extra"},An=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...mt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,g=e.ref(null),p=e.computed(()=>{const{openOnTop:c,...x}=a;return{...x,flowStep:k.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:g.value}}),{setMenuFocused:s,setShiftKey:A,control:P}=bn(),w=e.useSlots(),{defaultedTextInput:h,defaultedInline:b,defaultedConfig:R}=ge(a),K=e.ref(null),B=e.ref(0),N=e.ref(null),v=e.ref(!1),O=e.ref(null);e.onMounted(()=>{if(!a.shadow){v.value=!0,V(),window.addEventListener("resize",V);const c=ve(g);if(c&&!h.value.enabled&&!b.value.enabled&&(s(!0),F()),c){const x=oe=>{R.value.allowPreventDefault&&oe.preventDefault(),Oe(oe,R.value,!0)};c.addEventListener("pointerdown",x),c.addEventListener("mousedown",x)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",V)});const V=()=>{const c=ve(N);c&&(B.value=c.getBoundingClientRect().width)},{arrowRight:Q,arrowLeft:I,arrowDown:E,arrowUp:j}=Le(),{flowStep:k,updateFlowStep:re,childMount:ae,resetFlow:te}=ka(a,r,O),_=e.computed(()=>a.monthPicker?Ea:a.yearPicker?Va:a.timePicker?Za:a.quarterPicker?wr:hr),L=e.computed(()=>{var oe;if(R.value.arrowLeft)return R.value.arrowLeft;const c=(oe=g.value)==null?void 0:oe.getBoundingClientRect(),x=a.getInputRect();return x.width<B.value&&x.left<=((c==null?void 0:c.left)??0)?`${x.width/2}px`:"50%"}),F=()=>{const c=ve(g);c&&c.focus({preventScroll:!0})},z=e.computed(()=>{var c;return((c=O.value)==null?void 0:c.getSidebarProps())||{}}),$=()=>{a.openOnTop&&r("recalculate-position")},y=Be(w,"action"),m=e.computed(()=>a.monthPicker||a.yearPicker?Be(w,"monthYear"):a.timePicker?Be(w,"timePicker"):Be(w,"shared")),X=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ne=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),M=e.computed(()=>({dp__menu:!0,dp__menu_index:!b.value.enabled,dp__relative:b.value.enabled,[a.menuClassName]:!!a.menuClassName})),S=c=>{Oe(c,R.value,!0)},U=()=>{a.escClose&&r("close-picker")},d=c=>{if(a.arrowNavigation){if(c===Se.up)return j();if(c===Se.down)return E();if(c===Se.left)return I();if(c===Se.right)return Q()}else c===Se.right||c===Se.up?Z("handleArrow",Se.left,0,c===Se.up):Z("handleArrow",Se.right,0,c===Se.down)},T=c=>{A(c.shiftKey),!a.disableMonthYearSelect&&c.code===pe.tab&&c.target.classList.contains("dp__menu")&&P.value.shiftKeyInMenu&&(c.preventDefault(),Oe(c,R.value,!0),r("close-picker"))},C=()=>{F(),r("time-picker-close")},le=c=>{var x,oe,fe;(x=O.value)==null||x.toggleTimePicker(!1,!1),(oe=O.value)==null||oe.toggleMonthPicker(!1,!1,c),(fe=O.value)==null||fe.toggleYearPicker(!1,!1,c)},f=(c,x=0)=>{var oe,fe,ce;return c==="month"?(oe=O.value)==null?void 0:oe.toggleMonthPicker(!1,!0,x):c==="year"?(fe=O.value)==null?void 0:fe.toggleYearPicker(!1,!0,x):c==="time"?(ce=O.value)==null?void 0:ce.toggleTimePicker(!0,!1):le(x)},Z=(c,...x)=>{var oe,fe;(oe=O.value)!=null&&oe[c]&&((fe=O.value)==null||fe[c](...x))},H=()=>{Z("selectCurrentDate")},ie=(c,x)=>{Z("presetDate",c,x)},u=()=>{Z("clearHoverDate")},Y=(c,x)=>{Z("updateMonthYear",c,x)},J=(c,x)=>{c.preventDefault(),d(x)},G=c=>{if(T(c),c.key===pe.home||c.key===pe.end)return Z("selectWeekDate",c.key===pe.home);if(c.key===pe.pageUp||c.key===pe.pageDown)return c.shiftKey?Z("changeYear",c.key===pe.pageUp):Z("changeMonth",c.key===pe.pageUp);switch(c.key){case pe.esc:return U();case pe.arrowLeft:return J(c,Se.left);case pe.arrowRight:return J(c,Se.right);case pe.arrowUp:return J(c,Se.up);case pe.arrowDown:return J(c,Se.down);default:return}};return n({updateMonthYear:Y,switchView:f}),(c,x)=>{var oe,fe,ce;return e.openBlock(),e.createElementBlock("div",{id:c.uid?`dp-menu-${c.uid}`:void 0,ref_key:"dpMenuRef",ref:g,tabindex:"0",role:"dialog","aria-label":(oe=c.ariaLabels)==null?void 0:oe.menu,class:e.normalizeClass(M.value),style:e.normalizeStyle({"--dp-arrow-left":L.value}),onMouseleave:u,onClick:S,onKeydown:G},[(c.disabled||c.readonly)&&e.unref(b).enabled||c.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(ne.value)},[c.loading?(e.openBlock(),e.createElementBlock("div",Sr,Dr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(b).enabled&&!c.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(X.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:N,class:e.normalizeClass({dp__menu_content_wrapper:((fe=c.presetDates)==null?void 0:fe.length)||!!c.$slots["left-sidebar"]||!!c.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((ce=c.presetDates)==null?void 0:ce.length)||!!c.$slots["left-sidebar"]||!!c.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${B.value}px`})},[c.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Cr,[e.renderSlot(c.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(z.value)))])):e.createCommentVNode("",!0),c.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.presetDates,(ee,_e)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:_e},[ee.slot?e.renderSlot(c.$slots,ee.slot,{key:0,presetDate:ie,label:ee.label,value:ee.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ee.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ee.testId??void 0,onClick:e.withModifiers(Ne=>ie(ee.value,ee.noTz),["prevent"]),onKeydown:Ne=>e.unref(De)(Ne,()=>ie(ee.value,ee.noTz),!0)},e.toDisplayString(ee.label),47,Br))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:K,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(_.value),e.mergeProps({ref_key:"dynCmpRef",ref:O},p.value,{"flow-step":e.unref(k),onMount:e.unref(ae),onUpdateFlowStep:e.unref(re),onResetFlow:e.unref(te),onFocusMenu:F,onSelectDate:x[0]||(x[0]=ee=>c.$emit("select-date")),onDateUpdate:x[1]||(x[1]=ee=>c.$emit("date-update",ee)),onTooltipOpen:x[2]||(x[2]=ee=>c.$emit("tooltip-open",ee)),onTooltipClose:x[3]||(x[3]=ee=>c.$emit("tooltip-close",ee)),onAutoApply:x[4]||(x[4]=ee=>c.$emit("auto-apply",ee)),onRangeStart:x[5]||(x[5]=ee=>c.$emit("range-start",ee)),onRangeEnd:x[6]||(x[6]=ee=>c.$emit("range-end",ee)),onInvalidFixedRange:x[7]||(x[7]=ee=>c.$emit("invalid-fixed-range",ee)),onTimeUpdate:x[8]||(x[8]=ee=>c.$emit("time-update")),onAmPmChange:x[9]||(x[9]=ee=>c.$emit("am-pm-change",ee)),onTimePickerOpen:x[10]||(x[10]=ee=>c.$emit("time-picker-open",ee)),onTimePickerClose:C,onRecalculatePosition:$,onUpdateMonthYear:x[11]||(x[11]=ee=>c.$emit("update-month-year",ee)),onAutoApplyInvalid:x[12]||(x[12]=ee=>c.$emit("auto-apply-invalid",ee)),onInvalidDate:x[13]||(x[13]=ee=>c.$emit("invalid-date",ee)),onOverlayToggle:x[14]||(x[14]=ee=>c.$emit("overlay-toggle",ee)),"onUpdate:internalModelValue":x[15]||(x[15]=ee=>c.$emit("update:internal-model-value",ee))}),e.createSlots({_:2},[e.renderList(m.value,(ee,_e)=>({name:ee,fn:e.withCtx(Ne=>[e.renderSlot(c.$slots,ee,e.normalizeProps(e.guardReactiveProps({...Ne})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),c.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Tr,[e.renderSlot(c.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(z.value)))])):e.createCommentVNode("",!0),c.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",$r,[c.$slots["action-extra"]?e.renderSlot(c.$slots,"action-extra",{key:0,selectCurrentDate:H}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!c.autoApply||e.unref(R).keepActionRow?(e.openBlock(),e.createBlock(Ca,e.mergeProps({key:2,"menu-mount":v.value},p.value,{"calendar-width":B.value,onClosePicker:x[16]||(x[16]=ee=>c.$emit("close-picker")),onSelectDate:x[17]||(x[17]=ee=>c.$emit("select-date")),onInvalidSelect:x[18]||(x[18]=ee=>c.$emit("invalid-select")),onSelectNow:H}),e.createSlots({_:2},[e.renderList(e.unref(y),(ee,_e)=>({name:ee,fn:e.withCtx(Ne=>[e.renderSlot(c.$slots,ee,e.normalizeProps(e.guardReactiveProps({...Ne})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,Mr)}}}),Ar=typeof window<"u"?window:void 0,Wt=()=>{},Pr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Rr=(t,n,l,r)=>{if(!t)return Wt;let a=Wt;const g=e.watch(()=>e.unref(t),s=>{a(),s&&(s.addEventListener(n,l,r),a=()=>{s.removeEventListener(n,l,r),a=Wt})},{immediate:!0,flush:"post"}),p=()=>{g(),a()};return Pr(p),p},Nr=(t,n,l,r={})=>{const{window:a=Ar,event:g="pointerdown"}=r;return a?Rr(a,g,s=>{const A=ve(t),P=ve(n);!A||!P||A===s.target||s.composedPath().includes(A)||s.composedPath().includes(P)||l(s)},{passive:!0}):void 0},Er=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...mt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const r=l,a=t,g=e.useSlots(),p=e.ref(!1),s=e.toRef(a,"modelValue"),A=e.toRef(a,"timezone"),P=e.ref(null),w=e.ref(null),h=e.ref(null),b=e.ref(!1),R=e.ref(null),K=e.ref(!1),B=e.ref(!1),N=e.ref(!1),{setMenuFocused:v,setShiftKey:O}=bn(),{clearArrowNav:V}=Le(),{validateDate:Q,isValidTime:I}=We(a),{defaultedTransitions:E,defaultedTextInput:j,defaultedInline:k,defaultedConfig:re,defaultedRange:ae,defaultedMultiDates:te}=ge(a),{menuTransition:_,showTransition:L}=et(E);e.onMounted(()=>{d(a.modelValue),e.nextTick().then(()=>{if(!k.value.enabled){const i=ne(R.value);i==null||i.addEventListener("scroll",J),window==null||window.addEventListener("resize",G)}}),k.value.enabled&&(p.value=!0),window==null||window.addEventListener("keyup",c),window==null||window.addEventListener("keydown",x)}),e.onUnmounted(()=>{if(!k.value.enabled){const i=ne(R.value);i==null||i.removeEventListener("scroll",J),window==null||window.removeEventListener("resize",G)}window==null||window.removeEventListener("keyup",c),window==null||window.removeEventListener("keydown",x)});const F=Be(g,"all",a.presetDates),z=Be(g,"input");e.watch([s,A],()=>{d(s.value)},{deep:!0});const{openOnTop:$,menuStyle:y,xCorrect:m,setMenuPosition:X,getScrollableParent:ne,shadowRender:M}=pa({menuRef:P,menuRefInner:w,inputRef:h,pickerWrapperRef:R,inline:k,emit:r,props:a,slots:g}),{inputValue:S,internalModelValue:U,parseExternalModelValue:d,emitModelValue:T,formatInputValue:C,checkBeforeEmit:le}=fa(r,a,b),f=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:k.value.enabled,"dp--flex-display-collapsed":N.value,dp__flex_display_with_input:k.value.input})),Z=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),H=e.computed(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||k.value.enabled}:{}),ie=e.computed(()=>({class:"dp__outer_menu_wrap"})),u=e.computed(()=>k.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),Y=()=>{var i,D;return(D=(i=h.value)==null?void 0:i.$el)==null?void 0:D.getBoundingClientRect()},J=()=>{p.value&&(re.value.closeOnScroll?Te():X())},G=()=>{var D;p.value&&X();const i=(D=w.value)==null?void 0:D.$el.getBoundingClientRect().width;N.value=document.body.offsetWidth<=i},c=i=>{i.key==="Tab"&&!k.value.enabled&&!a.teleport&&re.value.tabOutClosesMenu&&(R.value.contains(document.activeElement)||Te()),B.value=i.shiftKey},x=i=>{B.value=i.shiftKey},oe=()=>{!a.disabled&&!a.readonly&&(M(An,a),X(!1),p.value=!0,p.value&&r("open"),p.value||rt(),d(a.modelValue))},fe=()=>{var i;S.value="",rt(),(i=h.value)==null||i.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),re.value.closeOnClearValue&&Te()},ce=()=>{const i=U.value;return!i||!Array.isArray(i)&&Q(i)?!0:Array.isArray(i)?te.value.enabled||i.length===2&&Q(i[0])&&Q(i[1])?!0:ae.value.partialRange&&!a.timePicker?Q(i[0]):!1:!1},ee=()=>{le()&&ce()?(T(),Te()):r("invalid-select",U.value)},_e=i=>{Ne(),T(),re.value.closeOnAutoApply&&!i&&Te()},Ne=()=>{h.value&&j.value.enabled&&h.value.setParsedDate(U.value)},jt=(i=!1)=>{a.autoApply&&I(U.value)&&ce()&&(ae.value.enabled&&Array.isArray(U.value)?(ae.value.partialRange||U.value.length===2)&&_e(i):_e(i))},rt=()=>{j.value.enabled||(U.value=null)},Te=()=>{k.value.enabled||(p.value&&(p.value=!1,m.value=!1,v(!1),O(!1),V(),r("closed"),S.value&&d(s.value)),rt(),r("blur"))},lt=(i,D,q=!1)=>{if(!i){U.value=null;return}const se=Array.isArray(i)?!i.some($e=>!Q($e)):Q(i),de=I(i);se&&de&&(U.value=i,D&&(K.value=q,ee(),r("text-submit")))},Kt=()=>{a.autoApply&&I(U.value)&&T(),Ne()},yt=()=>p.value?Te():oe(),xt=i=>{U.value=i},qt=()=>{j.value.enabled&&(b.value=!0,C()),r("focus")},Gt=()=>{if(j.value.enabled&&(b.value=!1,d(a.modelValue),K.value)){const i=Ln(R.value,B.value);i==null||i.focus()}r("blur")},Qt=i=>{w.value&&w.value.updateMonthYear(0,{month:ln(i.month),year:ln(i.year)})},Xt=i=>{d(i??a.modelValue)},Jt=(i,D)=>{var q;(q=w.value)==null||q.switchView(i,D)},Pn=i=>re.value.onClickOutside?re.value.onClickOutside(i):Te();return Nr(P,h,()=>Pn(ce)),n({closeMenu:Te,selectDate:ee,clearValue:fe,openMenu:oe,onScroll:J,formatInputValue:C,updateInternalModelValue:xt,setMonthYear:Qt,parseModel:Xt,switchView:Jt,toggleMenu:yt}),(i,D)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:R,class:e.normalizeClass(f.value),"data-datepicker-instance":""},[e.createVNode(Ma,e.mergeProps({ref_key:"inputRef",ref:h,"input-value":e.unref(S),"onUpdate:inputValue":D[0]||(D[0]=q=>e.isRef(S)?S.value=q:null),"is-menu-open":p.value},i.$props,{onClear:fe,onOpen:oe,onSetInputDate:lt,onSetEmptyDate:e.unref(T),onSelectDate:ee,onToggle:yt,onClose:Te,onFocus:qt,onBlur:Gt,onRealBlur:D[1]||(D[1]=q=>b.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(z),(q,se)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(i.$slots,q,e.normalizeProps(e.guardReactiveProps(de)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(H.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(_)(e.unref($)),css:e.unref(L)&&!e.unref(k).enabled},{default:e.withCtx(()=>[p.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:P},ie.value,{class:{"dp--menu-wrapper":!e.unref(k).enabled},style:e.unref(k).enabled?void 0:e.unref(y)}),[e.createVNode(An,e.mergeProps({ref_key:"dpMenuRef",ref:w},i.$props,{"internal-model-value":e.unref(U),"onUpdate:internalModelValue":D[2]||(D[2]=q=>e.isRef(U)?U.value=q:null),class:{[Z.value]:!0,"dp--menu-wrapper":i.teleport},"open-on-top":e.unref($),"no-overlay-focus":u.value,collapse:N.value,"get-input-rect":Y,onClosePicker:Te,onSelectDate:ee,onAutoApply:jt,onTimeUpdate:Kt,onFlowStep:D[3]||(D[3]=q=>i.$emit("flow-step",q)),onUpdateMonthYear:D[4]||(D[4]=q=>i.$emit("update-month-year",q)),onInvalidSelect:D[5]||(D[5]=q=>i.$emit("invalid-select",e.unref(U))),onAutoApplyInvalid:D[6]||(D[6]=q=>i.$emit("invalid-select",q)),onInvalidFixedRange:D[7]||(D[7]=q=>i.$emit("invalid-fixed-range",q)),onRecalculatePosition:e.unref(X),onTooltipOpen:D[8]||(D[8]=q=>i.$emit("tooltip-open",q)),onTooltipClose:D[9]||(D[9]=q=>i.$emit("tooltip-close",q)),onTimePickerOpen:D[10]||(D[10]=q=>i.$emit("time-picker-open",q)),onTimePickerClose:D[11]||(D[11]=q=>i.$emit("time-picker-close",q)),onAmPmChange:D[12]||(D[12]=q=>i.$emit("am-pm-change",q)),onRangeStart:D[13]||(D[13]=q=>i.$emit("range-start",q)),onRangeEnd:D[14]||(D[14]=q=>i.$emit("range-end",q)),onDateUpdate:D[15]||(D[15]=q=>i.$emit("date-update",q)),onInvalidDate:D[16]||(D[16]=q=>i.$emit("invalid-date",q)),onOverlayToggle:D[17]||(D[17]=q=>i.$emit("overlay-toggle",q))}),e.createSlots({_:2},[e.renderList(e.unref(F),(q,se)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(i.$slots,q,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Ut=(()=>{const t=Er;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Ut[t]=n)}),Ut});
